{
  "{\"filename\":\"/app/server/app.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/server\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.3": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "express"
              }
            ]
          },
          {
            "source": "./app-server",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "APPServer"
              }
            ]
          },
          {
            "source": "./middleware",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "middleware"
              }
            ]
          },
          {
            "source": "./router",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "router"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/server/app.js",
      "filenameRelative": "/app/server/app.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "app.js",
      "sourceFileName": "app.js",
      "sourceRoot": "/app/server",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/server",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "app"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _appServer = require('./app-server');\n\nvar _appServer2 = _interopRequireDefault(_appServer);\n\nvar _middleware = require('./middleware');\n\nvar _middleware2 = _interopRequireDefault(_middleware);\n\nvar _router = require('./router');\n\nvar _router2 = _interopRequireDefault(_router);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst server = new _appServer2.default({ app: _express2.default });\n\nserver.setMiddleware(_middleware2.default);\nserver.setRouter(_router2.default);\nserver.errorHandler();\nserver.listen();\nserver.connect();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJzZXJ2ZXIiLCJBUFBTZXJ2ZXIiLCJhcHAiLCJleHByZXNzIiwic2V0TWlkZGxld2FyZSIsIm1pZGRsZXdhcmUiLCJzZXRSb3V0ZXIiLCJyb3V0ZXIiLCJlcnJvckhhbmRsZXIiLCJsaXN0ZW4iLCJjb25uZWN0Il0sIm1hcHBpbmdzIjoiOztBQUFBOzs7O0FBRUE7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFHQSxNQUFNQSxTQUFTLElBQUlDLG1CQUFKLENBQWMsRUFBQ0MsS0FBS0MsaUJBQU4sRUFBZCxDQUFmOztBQUVBSCxPQUFPSSxhQUFQLENBQXFCQyxvQkFBckI7QUFDQUwsT0FBT00sU0FBUCxDQUFpQkMsZ0JBQWpCO0FBQ0FQLE9BQU9RLFlBQVA7QUFDQVIsT0FBT1MsTUFBUDtBQUNBVCxPQUFPVSxPQUFQIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL3NlcnZlciIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuXG5pbXBvcnQgQVBQU2VydmVyICBmcm9tICcuL2FwcC1zZXJ2ZXInO1xuaW1wb3J0IG1pZGRsZXdhcmUgZnJvbSAnLi9taWRkbGV3YXJlJztcbmltcG9ydCByb3V0ZXIgICAgIGZyb20gJy4vcm91dGVyJztcblxuXG5jb25zdCBzZXJ2ZXIgPSBuZXcgQVBQU2VydmVyKHthcHA6IGV4cHJlc3N9KTtcblxuc2VydmVyLnNldE1pZGRsZXdhcmUobWlkZGxld2FyZSk7XG5zZXJ2ZXIuc2V0Um91dGVyKHJvdXRlcik7XG5zZXJ2ZXIuZXJyb3JIYW5kbGVyKCk7XG5zZXJ2ZXIubGlzdGVuKCk7XG5zZXJ2ZXIuY29ubmVjdCgpO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "app.js"
      ],
      "names": [
        "server",
        "APPServer",
        "app",
        "express",
        "setMiddleware",
        "middleware",
        "setRouter",
        "router",
        "errorHandler",
        "listen",
        "connect"
      ],
      "mappings": ";;AAAA;;;;AAEA;;;;AACA;;;;AACA;;;;;;AAGA,MAAMA,SAAS,IAAIC,mBAAJ,CAAc,EAACC,KAAKC,iBAAN,EAAd,CAAf;;AAEAH,OAAOI,aAAP,CAAqBC,oBAArB;AACAL,OAAOM,SAAP,CAAiBC,gBAAjB;AACAP,OAAOQ,YAAP;AACAR,OAAOS,MAAP;AACAT,OAAOU,OAAP",
      "file": "app.js",
      "sourceRoot": "/app/server",
      "sourcesContent": [
        "import express from 'express';\n\nimport APPServer  from './app-server';\nimport middleware from './middleware';\nimport router     from './router';\n\n\nconst server = new APPServer({app: express});\n\nserver.setMiddleware(middleware);\nserver.setRouter(router);\nserver.errorHandler();\nserver.listen();\nserver.connect();\n"
      ]
    },
    "mtime": 1691921537583
  },
  "{\"filename\":\"/app/server/routes/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/server/routes\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.3": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/server/routes/index.js",
      "filenameRelative": "/app/server/routes/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/app/server/routes",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/server/routes",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar express = require('express');\nvar router = express.Router();\n\n/* GET home page. */\nrouter.get('/', (request, response, next) => {\n  response.send('{\"json\": \"this is a json output\"}');\n});\n\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwiZ2V0IiwicmVxdWVzdCIsInJlc3BvbnNlIiwibmV4dCIsInNlbmQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFVBQVVDLFFBQVEsU0FBUixDQUFkO0FBQ0EsSUFBSUMsU0FBU0YsUUFBUUcsTUFBUixFQUFiOztBQUVBO0FBQ0FELE9BQU9FLEdBQVAsQ0FBVyxHQUFYLEVBQWdCLENBQUNDLE9BQUQsRUFBVUMsUUFBVixFQUFvQkMsSUFBcEIsS0FBNkI7QUFDM0NELFdBQVNFLElBQVQsQ0FBYyxtQ0FBZDtBQUNELENBRkQ7O0FBSUFDLE9BQU9DLE9BQVAsR0FBaUJSLE1BQWpCIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlUm9vdCI6Ii9hcHAvc2VydmVyL3JvdXRlcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xudmFyIHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbi8qIEdFVCBob21lIHBhZ2UuICovXG5yb3V0ZXIuZ2V0KCcvJywgKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSA9PiB7XG4gIHJlc3BvbnNlLnNlbmQoJ3tcImpzb25cIjogXCJ0aGlzIGlzIGEganNvbiBvdXRwdXRcIn0nKVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "express",
        "require",
        "router",
        "Router",
        "get",
        "request",
        "response",
        "next",
        "send",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,SAASF,QAAQG,MAAR,EAAb;;AAEA;AACAD,OAAOE,GAAP,CAAW,GAAX,EAAgB,CAACC,OAAD,EAAUC,QAAV,EAAoBC,IAApB,KAA6B;AAC3CD,WAASE,IAAT,CAAc,mCAAd;AACD,CAFD;;AAIAC,OAAOC,OAAP,GAAiBR,MAAjB",
      "file": "index.js",
      "sourceRoot": "/app/server/routes",
      "sourcesContent": [
        "var express = require('express');\nvar router = express.Router();\n\n/* GET home page. */\nrouter.get('/', (request, response, next) => {\n  response.send('{\"json\": \"this is a json output\"}')\n});\n\nmodule.exports = router;\n"
      ]
    },
    "mtime": 1690954593616
  },
  "{\"filename\":\"/app/server/routes/users.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/server/routes\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.3": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/server/routes/users.js",
      "filenameRelative": "/app/server/routes/users.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "users.js",
      "sourceFileName": "users.js",
      "sourceRoot": "/app/server/routes",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/server/routes",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "users"
    },
    "ignored": false,
    "code": "'use strict';\n\nconst express = require('express');\nconst router = express.Router();\n\nrouter.get('/', (request, response, next) => {\n  response.send('respond with a resource');\n});\n\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwicm91dGVyIiwiUm91dGVyIiwiZ2V0IiwicmVxdWVzdCIsInJlc3BvbnNlIiwibmV4dCIsInNlbmQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLFVBQVVDLFFBQVEsU0FBUixDQUFoQjtBQUNBLE1BQU1DLFNBQVNGLFFBQVFHLE1BQVIsRUFBZjs7QUFFQUQsT0FBT0UsR0FBUCxDQUFXLEdBQVgsRUFBZ0IsQ0FBQ0MsT0FBRCxFQUFVQyxRQUFWLEVBQW9CQyxJQUFwQixLQUE2QjtBQUMzQ0QsV0FBU0UsSUFBVCxDQUFjLHlCQUFkO0FBQ0QsQ0FGRDs7QUFJQUMsT0FBT0MsT0FBUCxHQUFpQlIsTUFBakIiLCJmaWxlIjoidXNlcnMuanMiLCJzb3VyY2VSb290IjoiL2FwcC9zZXJ2ZXIvcm91dGVzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnJvdXRlci5nZXQoJy8nLCAocmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpID0+IHtcbiAgcmVzcG9uc2Uuc2VuZCgncmVzcG9uZCB3aXRoIGEgcmVzb3VyY2UnKTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "users.js"
      ],
      "names": [
        "express",
        "require",
        "router",
        "Router",
        "get",
        "request",
        "response",
        "next",
        "send",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACA,MAAMC,SAASF,QAAQG,MAAR,EAAf;;AAEAD,OAAOE,GAAP,CAAW,GAAX,EAAgB,CAACC,OAAD,EAAUC,QAAV,EAAoBC,IAApB,KAA6B;AAC3CD,WAASE,IAAT,CAAc,yBAAd;AACD,CAFD;;AAIAC,OAAOC,OAAP,GAAiBR,MAAjB",
      "file": "users.js",
      "sourceRoot": "/app/server/routes",
      "sourcesContent": [
        "const express = require('express');\nconst router = express.Router();\n\nrouter.get('/', (request, response, next) => {\n  response.send('respond with a resource');\n});\n\nmodule.exports = router;\n"
      ]
    },
    "mtime": 1690778293470
  },
  "{\"filename\":\"/app/server/routes/user.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/server/routes\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.3": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/server/routes/user.js",
      "filenameRelative": "/app/server/routes/user.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "user.js",
      "sourceFileName": "user.js",
      "sourceRoot": "/app/server/routes",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/server/routes",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "user"
    },
    "ignored": false,
    "code": "'use strict';\n\nconst express = require('express');\nconst router = express.Router();\n\nrouter.get('/:id', (request, response, next) => {\n  response.send(`response id ${request.params.id}`);\n});\n\nrouter.post('/:id', (request, response, next) => {\n  response.send('post ');\n});\n\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJnZXQiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJuZXh0Iiwic2VuZCIsInBhcmFtcyIsImlkIiwicG9zdCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsVUFBVUMsUUFBUSxTQUFSLENBQWhCO0FBQ0EsTUFBTUMsU0FBU0YsUUFBUUcsTUFBUixFQUFmOztBQUVBRCxPQUFPRSxHQUFQLENBQVcsTUFBWCxFQUFtQixDQUFDQyxPQUFELEVBQVVDLFFBQVYsRUFBb0JDLElBQXBCLEtBQTZCO0FBQzlDRCxXQUFTRSxJQUFULENBQWUsZUFBY0gsUUFBUUksTUFBUixDQUFlQyxFQUFHLEVBQS9DO0FBQ0QsQ0FGRDs7QUFJQVIsT0FBT1MsSUFBUCxDQUFZLE1BQVosRUFBb0IsQ0FBQ04sT0FBRCxFQUFVQyxRQUFWLEVBQW9CQyxJQUFwQixLQUE2QjtBQUMvQ0QsV0FBU0UsSUFBVCxDQUFjLE9BQWQ7QUFDRCxDQUZEOztBQUlBSSxPQUFPQyxPQUFQLEdBQWlCWCxNQUFqQiIsImZpbGUiOiJ1c2VyLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvc2VydmVyL3JvdXRlcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb3V0ZXIuZ2V0KCcvOmlkJywgKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSA9PiB7XG4gIHJlc3BvbnNlLnNlbmQoYHJlc3BvbnNlIGlkICR7cmVxdWVzdC5wYXJhbXMuaWR9YCk7XG59KTtcblxucm91dGVyLnBvc3QoJy86aWQnLCAocmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpID0+IHtcbiAgcmVzcG9uc2Uuc2VuZCgncG9zdCAnKTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "user.js"
      ],
      "names": [
        "express",
        "require",
        "router",
        "Router",
        "get",
        "request",
        "response",
        "next",
        "send",
        "params",
        "id",
        "post",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACA,MAAMC,SAASF,QAAQG,MAAR,EAAf;;AAEAD,OAAOE,GAAP,CAAW,MAAX,EAAmB,CAACC,OAAD,EAAUC,QAAV,EAAoBC,IAApB,KAA6B;AAC9CD,WAASE,IAAT,CAAe,eAAcH,QAAQI,MAAR,CAAeC,EAAG,EAA/C;AACD,CAFD;;AAIAR,OAAOS,IAAP,CAAY,MAAZ,EAAoB,CAACN,OAAD,EAAUC,QAAV,EAAoBC,IAApB,KAA6B;AAC/CD,WAASE,IAAT,CAAc,OAAd;AACD,CAFD;;AAIAI,OAAOC,OAAP,GAAiBX,MAAjB",
      "file": "user.js",
      "sourceRoot": "/app/server/routes",
      "sourcesContent": [
        "const express = require('express');\nconst router = express.Router();\n\nrouter.get('/:id', (request, response, next) => {\n  response.send(`response id ${request.params.id}`);\n});\n\nrouter.post('/:id', (request, response, next) => {\n  response.send('post ');\n});\n\nmodule.exports = router;\n"
      ]
    },
    "mtime": 1690778215845
  },
  "{\"filename\":\"/app/config/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/config\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.3": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/config/index.js",
      "filenameRelative": "/app/config/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/app/config",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/config",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst path = require('path');\n\nconst Config = {\n  app: {\n    host: process.env.APP_HOST,\n    port: process.env.APP_PORT,\n    admin: process.env.APP_ADMIN_URL,\n    rootfs: process.env.APP_HOME || path.normalize(`${__dirname}`)\n  },\n  mongodb: {\n    host: process.env.MONGO_HOST,\n    port: process.env.MONGO_PORT,\n    name: process.env.MONGO_NAME,\n    options: {\n      user: process.env.MONGO_USER,\n      pass: process.env.MONGO_PASS,\n      useNewUrlParser: true,\n      useCreateIndex: true,\n      useUnifiedTopology: true,\n      useFindAndModify: false,\n      poolSize: process.env.MONGO_POOL_SIZE || 10,\n      bufferMaxEntries: process.env.MONGO_BUFFER_MAX_ENTRIES || 0\n    }\n  },\n  mail: {\n    admin: process.env.MAIL_ADMIN,\n    from: process.env.MAIL_FROM,\n    credentials: {\n      host: process.env.MAIL_CREDENTIALS_HOST,\n      port: process.env.MAIL_CREDENTIALS_PORT || 587,\n      auth: {\n        user: process.env.MAIL_CREDENTIALS_AUTH_USER,\n        pass: process.env.MAIL_CREDENTIALS_AUTH_PASS\n      },\n      tls: process.env.MAIL_CREDENTIALS_TLS_OPTIONS || { rejectUnauthorized: false }\n    }\n  }\n};\n\nexports.default = Config;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInBhdGgiLCJyZXF1aXJlIiwiQ29uZmlnIiwiYXBwIiwiaG9zdCIsInByb2Nlc3MiLCJlbnYiLCJBUFBfSE9TVCIsInBvcnQiLCJBUFBfUE9SVCIsImFkbWluIiwiQVBQX0FETUlOX1VSTCIsInJvb3RmcyIsIkFQUF9IT01FIiwibm9ybWFsaXplIiwiX19kaXJuYW1lIiwibW9uZ29kYiIsIk1PTkdPX0hPU1QiLCJNT05HT19QT1JUIiwibmFtZSIsIk1PTkdPX05BTUUiLCJvcHRpb25zIiwidXNlciIsIk1PTkdPX1VTRVIiLCJwYXNzIiwiTU9OR09fUEFTUyIsInVzZU5ld1VybFBhcnNlciIsInVzZUNyZWF0ZUluZGV4IiwidXNlVW5pZmllZFRvcG9sb2d5IiwidXNlRmluZEFuZE1vZGlmeSIsInBvb2xTaXplIiwiTU9OR09fUE9PTF9TSVpFIiwiYnVmZmVyTWF4RW50cmllcyIsIk1PTkdPX0JVRkZFUl9NQVhfRU5UUklFUyIsIm1haWwiLCJNQUlMX0FETUlOIiwiZnJvbSIsIk1BSUxfRlJPTSIsImNyZWRlbnRpYWxzIiwiTUFJTF9DUkVERU5USUFMU19IT1NUIiwiTUFJTF9DUkVERU5USUFMU19QT1JUIiwiYXV0aCIsIk1BSUxfQ1JFREVOVElBTFNfQVVUSF9VU0VSIiwiTUFJTF9DUkVERU5USUFMU19BVVRIX1BBU1MiLCJ0bHMiLCJNQUlMX0NSRURFTlRJQUxTX1RMU19PUFRJT05TIiwicmVqZWN0VW5hdXRob3JpemVkIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE1BQU1BLE9BQU9DLFFBQVEsTUFBUixDQUFiOztBQUVBLE1BQU1DLFNBQVM7QUFDYkMsT0FBSztBQUNIQyxVQUFNQyxRQUFRQyxHQUFSLENBQVlDLFFBRGY7QUFFSEMsVUFBTUgsUUFBUUMsR0FBUixDQUFZRyxRQUZmO0FBR0hDLFdBQU9MLFFBQVFDLEdBQVIsQ0FBWUssYUFIaEI7QUFJSEMsWUFBUVAsUUFBUUMsR0FBUixDQUFZTyxRQUFaLElBQXdCYixLQUFLYyxTQUFMLENBQWdCLEdBQUVDLFNBQVUsRUFBNUI7QUFKN0IsR0FEUTtBQU9iQyxXQUFTO0FBQ1BaLFVBQU1DLFFBQVFDLEdBQVIsQ0FBWVcsVUFEWDtBQUVQVCxVQUFNSCxRQUFRQyxHQUFSLENBQVlZLFVBRlg7QUFHUEMsVUFBTWQsUUFBUUMsR0FBUixDQUFZYyxVQUhYO0FBSVBDLGFBQVM7QUFDUEMsWUFBTWpCLFFBQVFDLEdBQVIsQ0FBWWlCLFVBRFg7QUFFUEMsWUFBTW5CLFFBQVFDLEdBQVIsQ0FBWW1CLFVBRlg7QUFHUEMsdUJBQWlCLElBSFY7QUFJUEMsc0JBQWdCLElBSlQ7QUFLUEMsMEJBQW9CLElBTGI7QUFNUEMsd0JBQWtCLEtBTlg7QUFPUEMsZ0JBQVV6QixRQUFRQyxHQUFSLENBQVl5QixlQUFaLElBQStCLEVBUGxDO0FBUVBDLHdCQUFrQjNCLFFBQVFDLEdBQVIsQ0FBWTJCLHdCQUFaLElBQXdDO0FBUm5EO0FBSkYsR0FQSTtBQXNCYkMsUUFBTTtBQUNKeEIsV0FBT0wsUUFBUUMsR0FBUixDQUFZNkIsVUFEZjtBQUVKQyxVQUFNL0IsUUFBUUMsR0FBUixDQUFZK0IsU0FGZDtBQUdKQyxpQkFBYTtBQUNYbEMsWUFBTUMsUUFBUUMsR0FBUixDQUFZaUMscUJBRFA7QUFFWC9CLFlBQU1ILFFBQVFDLEdBQVIsQ0FBWWtDLHFCQUFaLElBQXFDLEdBRmhDO0FBR1hDLFlBQU07QUFDSm5CLGNBQU1qQixRQUFRQyxHQUFSLENBQVlvQywwQkFEZDtBQUVKbEIsY0FBTW5CLFFBQVFDLEdBQVIsQ0FBWXFDO0FBRmQsT0FISztBQU9YQyxXQUFLdkMsUUFBUUMsR0FBUixDQUFZdUMsNEJBQVosSUFBNEMsRUFBQ0Msb0JBQW9CLEtBQXJCO0FBUHRDO0FBSFQ7QUF0Qk8sQ0FBZjs7a0JBcUNlNUMsTSIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL2NvbmZpZyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbmNvbnN0IENvbmZpZyA9IHtcbiAgYXBwOiB7XG4gICAgaG9zdDogcHJvY2Vzcy5lbnYuQVBQX0hPU1QsXG4gICAgcG9ydDogcHJvY2Vzcy5lbnYuQVBQX1BPUlQsXG4gICAgYWRtaW46IHByb2Nlc3MuZW52LkFQUF9BRE1JTl9VUkwsXG4gICAgcm9vdGZzOiBwcm9jZXNzLmVudi5BUFBfSE9NRSB8fCBwYXRoLm5vcm1hbGl6ZShgJHtfX2Rpcm5hbWV9YClcbiAgfSxcbiAgbW9uZ29kYjoge1xuICAgIGhvc3Q6IHByb2Nlc3MuZW52Lk1PTkdPX0hPU1QsXG4gICAgcG9ydDogcHJvY2Vzcy5lbnYuTU9OR09fUE9SVCxcbiAgICBuYW1lOiBwcm9jZXNzLmVudi5NT05HT19OQU1FLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIHVzZXI6IHByb2Nlc3MuZW52Lk1PTkdPX1VTRVIsXG4gICAgICBwYXNzOiBwcm9jZXNzLmVudi5NT05HT19QQVNTLFxuICAgICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuICAgICAgdXNlQ3JlYXRlSW5kZXg6IHRydWUsXG4gICAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXG4gICAgICB1c2VGaW5kQW5kTW9kaWZ5OiBmYWxzZSxcbiAgICAgIHBvb2xTaXplOiBwcm9jZXNzLmVudi5NT05HT19QT09MX1NJWkUgfHwgMTAsXG4gICAgICBidWZmZXJNYXhFbnRyaWVzOiBwcm9jZXNzLmVudi5NT05HT19CVUZGRVJfTUFYX0VOVFJJRVMgfHwgMFxuICAgIH0sXG4gIH0sXG4gIG1haWw6IHtcbiAgICBhZG1pbjogcHJvY2Vzcy5lbnYuTUFJTF9BRE1JTixcbiAgICBmcm9tOiBwcm9jZXNzLmVudi5NQUlMX0ZST00sXG4gICAgY3JlZGVudGlhbHM6IHtcbiAgICAgIGhvc3Q6IHByb2Nlc3MuZW52Lk1BSUxfQ1JFREVOVElBTFNfSE9TVCxcbiAgICAgIHBvcnQ6IHByb2Nlc3MuZW52Lk1BSUxfQ1JFREVOVElBTFNfUE9SVCB8fCA1ODcsXG4gICAgICBhdXRoOiB7XG4gICAgICAgIHVzZXI6IHByb2Nlc3MuZW52Lk1BSUxfQ1JFREVOVElBTFNfQVVUSF9VU0VSLFxuICAgICAgICBwYXNzOiBwcm9jZXNzLmVudi5NQUlMX0NSRURFTlRJQUxTX0FVVEhfUEFTUyxcbiAgICAgIH0sXG4gICAgICB0bHM6IHByb2Nlc3MuZW52Lk1BSUxfQ1JFREVOVElBTFNfVExTX09QVElPTlMgfHwge3JlamVjdFVuYXV0aG9yaXplZDogZmFsc2V9XG4gICAgfVxuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgQ29uZmlnO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "path",
        "require",
        "Config",
        "app",
        "host",
        "process",
        "env",
        "APP_HOST",
        "port",
        "APP_PORT",
        "admin",
        "APP_ADMIN_URL",
        "rootfs",
        "APP_HOME",
        "normalize",
        "__dirname",
        "mongodb",
        "MONGO_HOST",
        "MONGO_PORT",
        "name",
        "MONGO_NAME",
        "options",
        "user",
        "MONGO_USER",
        "pass",
        "MONGO_PASS",
        "useNewUrlParser",
        "useCreateIndex",
        "useUnifiedTopology",
        "useFindAndModify",
        "poolSize",
        "MONGO_POOL_SIZE",
        "bufferMaxEntries",
        "MONGO_BUFFER_MAX_ENTRIES",
        "mail",
        "MAIL_ADMIN",
        "from",
        "MAIL_FROM",
        "credentials",
        "MAIL_CREDENTIALS_HOST",
        "MAIL_CREDENTIALS_PORT",
        "auth",
        "MAIL_CREDENTIALS_AUTH_USER",
        "MAIL_CREDENTIALS_AUTH_PASS",
        "tls",
        "MAIL_CREDENTIALS_TLS_OPTIONS",
        "rejectUnauthorized"
      ],
      "mappings": ";;;;;AAAA,MAAMA,OAAOC,QAAQ,MAAR,CAAb;;AAEA,MAAMC,SAAS;AACbC,OAAK;AACHC,UAAMC,QAAQC,GAAR,CAAYC,QADf;AAEHC,UAAMH,QAAQC,GAAR,CAAYG,QAFf;AAGHC,WAAOL,QAAQC,GAAR,CAAYK,aAHhB;AAIHC,YAAQP,QAAQC,GAAR,CAAYO,QAAZ,IAAwBb,KAAKc,SAAL,CAAgB,GAAEC,SAAU,EAA5B;AAJ7B,GADQ;AAObC,WAAS;AACPZ,UAAMC,QAAQC,GAAR,CAAYW,UADX;AAEPT,UAAMH,QAAQC,GAAR,CAAYY,UAFX;AAGPC,UAAMd,QAAQC,GAAR,CAAYc,UAHX;AAIPC,aAAS;AACPC,YAAMjB,QAAQC,GAAR,CAAYiB,UADX;AAEPC,YAAMnB,QAAQC,GAAR,CAAYmB,UAFX;AAGPC,uBAAiB,IAHV;AAIPC,sBAAgB,IAJT;AAKPC,0BAAoB,IALb;AAMPC,wBAAkB,KANX;AAOPC,gBAAUzB,QAAQC,GAAR,CAAYyB,eAAZ,IAA+B,EAPlC;AAQPC,wBAAkB3B,QAAQC,GAAR,CAAY2B,wBAAZ,IAAwC;AARnD;AAJF,GAPI;AAsBbC,QAAM;AACJxB,WAAOL,QAAQC,GAAR,CAAY6B,UADf;AAEJC,UAAM/B,QAAQC,GAAR,CAAY+B,SAFd;AAGJC,iBAAa;AACXlC,YAAMC,QAAQC,GAAR,CAAYiC,qBADP;AAEX/B,YAAMH,QAAQC,GAAR,CAAYkC,qBAAZ,IAAqC,GAFhC;AAGXC,YAAM;AACJnB,cAAMjB,QAAQC,GAAR,CAAYoC,0BADd;AAEJlB,cAAMnB,QAAQC,GAAR,CAAYqC;AAFd,OAHK;AAOXC,WAAKvC,QAAQC,GAAR,CAAYuC,4BAAZ,IAA4C,EAACC,oBAAoB,KAArB;AAPtC;AAHT;AAtBO,CAAf;;kBAqCe5C,M",
      "file": "index.js",
      "sourceRoot": "/app/config",
      "sourcesContent": [
        "const path = require('path');\n\nconst Config = {\n  app: {\n    host: process.env.APP_HOST,\n    port: process.env.APP_PORT,\n    admin: process.env.APP_ADMIN_URL,\n    rootfs: process.env.APP_HOME || path.normalize(`${__dirname}`)\n  },\n  mongodb: {\n    host: process.env.MONGO_HOST,\n    port: process.env.MONGO_PORT,\n    name: process.env.MONGO_NAME,\n    options: {\n      user: process.env.MONGO_USER,\n      pass: process.env.MONGO_PASS,\n      useNewUrlParser: true,\n      useCreateIndex: true,\n      useUnifiedTopology: true,\n      useFindAndModify: false,\n      poolSize: process.env.MONGO_POOL_SIZE || 10,\n      bufferMaxEntries: process.env.MONGO_BUFFER_MAX_ENTRIES || 0\n    },\n  },\n  mail: {\n    admin: process.env.MAIL_ADMIN,\n    from: process.env.MAIL_FROM,\n    credentials: {\n      host: process.env.MAIL_CREDENTIALS_HOST,\n      port: process.env.MAIL_CREDENTIALS_PORT || 587,\n      auth: {\n        user: process.env.MAIL_CREDENTIALS_AUTH_USER,\n        pass: process.env.MAIL_CREDENTIALS_AUTH_PASS,\n      },\n      tls: process.env.MAIL_CREDENTIALS_TLS_OPTIONS || {rejectUnauthorized: false}\n    }\n  },\n};\n\nexport default Config;\n"
      ]
    },
    "mtime": 1690954692773
  },
  "{\"filename\":\"/app/server/router.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/server\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.3": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "./config",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "config"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "router",
            "app"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "router",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "app",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/server/router.js",
      "filenameRelative": "/app/server/router.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "router.js",
      "sourceFileName": "router.js",
      "sourceRoot": "/app/server",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/server",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "router"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n   value: true\n});\nexports.default = router;\n\nvar _config = require('./config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userRouter = require(`${_config2.default.app.rootfs}/server/controllers/user/router`);\n\nfunction router(app) {\n   app.use(['/user', '/users'], userRouter());\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvdXRlci5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJ1c2VyUm91dGVyIiwicmVxdWlyZSIsImNvbmZpZyIsImFwcCIsInJvb3RmcyIsInVzZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7a0JBS3dCQSxNOztBQUx4Qjs7Ozs7O0FBRUEsTUFBTUMsYUFBYUMsUUFBUyxHQUFFQyxpQkFBT0MsR0FBUCxDQUFXQyxNQUFPLGlDQUE3QixDQUFuQjs7QUFHZSxTQUFTTCxNQUFULENBQWdCSSxHQUFoQixFQUFxQjtBQUNqQ0EsT0FBSUUsR0FBSixDQUFRLENBQUMsT0FBRCxFQUFVLFFBQVYsQ0FBUixFQUE2QkwsWUFBN0I7QUFDRiIsImZpbGUiOiJyb3V0ZXIuanMiLCJzb3VyY2VSb290IjoiL2FwcC9zZXJ2ZXIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY29uZmlnIGZyb20gXCIuL2NvbmZpZ1wiO1xuXG5jb25zdCB1c2VyUm91dGVyID0gcmVxdWlyZShgJHtjb25maWcuYXBwLnJvb3Rmc30vc2VydmVyL2NvbnRyb2xsZXJzL3VzZXIvcm91dGVyYCk7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcm91dGVyKGFwcCkge1xuICAgYXBwLnVzZShbJy91c2VyJywgJy91c2VycyddLCB1c2VyUm91dGVyKCkpO1xufSJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "router.js"
      ],
      "names": [
        "router",
        "userRouter",
        "require",
        "config",
        "app",
        "rootfs",
        "use"
      ],
      "mappings": ";;;;;kBAKwBA,M;;AALxB;;;;;;AAEA,MAAMC,aAAaC,QAAS,GAAEC,iBAAOC,GAAP,CAAWC,MAAO,iCAA7B,CAAnB;;AAGe,SAASL,MAAT,CAAgBI,GAAhB,EAAqB;AACjCA,OAAIE,GAAJ,CAAQ,CAAC,OAAD,EAAU,QAAV,CAAR,EAA6BL,YAA7B;AACF",
      "file": "router.js",
      "sourceRoot": "/app/server",
      "sourcesContent": [
        "import config from \"./config\";\n\nconst userRouter = require(`${config.app.rootfs}/server/controllers/user/router`);\n\n\nexport default function router(app) {\n   app.use(['/user', '/users'], userRouter());\n}"
      ]
    },
    "mtime": 1691923584847
  },
  "{\"filename\":\"/app/server/config/config.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/server/config\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.3": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [
            "config"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "config",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/server/config/config.js",
      "filenameRelative": "/app/server/config/config.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "config.js",
      "sourceFileName": "config.js",
      "sourceRoot": "/app/server/config",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/server/config",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "config"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = config;\nconst path = require('path');\n\nfunction config() {\n  return {\n    app: {\n      host: process.env.APP_HOST,\n      port: process.env.APP_PORT,\n      admin: process.env.APP_ADMIN_URL,\n      rootfs: process.env.APP_HOME || path.normalize(`${__dirname}`)\n    },\n    mongodb: {\n      host: process.env.MONGO_HOST,\n      port: process.env.MONGO_PORT,\n      name: process.env.MONGO_NAME,\n      options: {\n        user: process.env.MONGO_USER,\n        pass: process.env.MONGO_PASS,\n        useNewUrlParser: true,\n        useCreateIndex: true,\n        useUnifiedTopology: true,\n        useFindAndModify: false,\n        poolSize: process.env.MONGO_POOL_SIZE || 10,\n        bufferMaxEntries: process.env.MONGO_BUFFER_MAX_ENTRIES || 0\n      }\n    },\n    mail: {\n      admin: process.env.MAIL_ADMIN,\n      from: process.env.MAIL_FROM,\n      credentials: {\n        host: process.env.MAIL_CREDENTIALS_HOST,\n        port: process.env.MAIL_CREDENTIALS_PORT || 587,\n        auth: {\n          user: process.env.MAIL_CREDENTIALS_AUTH_USER,\n          pass: process.env.MAIL_CREDENTIALS_AUTH_PASS\n        },\n        tls: process.env.MAIL_CREDENTIALS_TLS_OPTIONS || { rejectUnauthorized: false }\n      }\n    }\n  };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJjb25maWciLCJwYXRoIiwicmVxdWlyZSIsImFwcCIsImhvc3QiLCJwcm9jZXNzIiwiZW52IiwiQVBQX0hPU1QiLCJwb3J0IiwiQVBQX1BPUlQiLCJhZG1pbiIsIkFQUF9BRE1JTl9VUkwiLCJyb290ZnMiLCJBUFBfSE9NRSIsIm5vcm1hbGl6ZSIsIl9fZGlybmFtZSIsIm1vbmdvZGIiLCJNT05HT19IT1NUIiwiTU9OR09fUE9SVCIsIm5hbWUiLCJNT05HT19OQU1FIiwib3B0aW9ucyIsInVzZXIiLCJNT05HT19VU0VSIiwicGFzcyIsIk1PTkdPX1BBU1MiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VDcmVhdGVJbmRleCIsInVzZVVuaWZpZWRUb3BvbG9neSIsInVzZUZpbmRBbmRNb2RpZnkiLCJwb29sU2l6ZSIsIk1PTkdPX1BPT0xfU0laRSIsImJ1ZmZlck1heEVudHJpZXMiLCJNT05HT19CVUZGRVJfTUFYX0VOVFJJRVMiLCJtYWlsIiwiTUFJTF9BRE1JTiIsImZyb20iLCJNQUlMX0ZST00iLCJjcmVkZW50aWFscyIsIk1BSUxfQ1JFREVOVElBTFNfSE9TVCIsIk1BSUxfQ1JFREVOVElBTFNfUE9SVCIsImF1dGgiLCJNQUlMX0NSRURFTlRJQUxTX0FVVEhfVVNFUiIsIk1BSUxfQ1JFREVOVElBTFNfQVVUSF9QQVNTIiwidGxzIiwiTUFJTF9DUkVERU5USUFMU19UTFNfT1BUSU9OUyIsInJlamVjdFVuYXV0aG9yaXplZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7a0JBRXdCQSxNO0FBRnhCLE1BQU1DLE9BQU9DLFFBQVEsTUFBUixDQUFiOztBQUVlLFNBQVNGLE1BQVQsR0FBa0I7QUFDL0IsU0FBTztBQUNMRyxTQUFLO0FBQ0hDLFlBQU1DLFFBQVFDLEdBQVIsQ0FBWUMsUUFEZjtBQUVIQyxZQUFNSCxRQUFRQyxHQUFSLENBQVlHLFFBRmY7QUFHSEMsYUFBT0wsUUFBUUMsR0FBUixDQUFZSyxhQUhoQjtBQUlIQyxjQUFRUCxRQUFRQyxHQUFSLENBQVlPLFFBQVosSUFBd0JaLEtBQUthLFNBQUwsQ0FBZ0IsR0FBRUMsU0FBVSxFQUE1QjtBQUo3QixLQURBO0FBT0xDLGFBQVM7QUFDUFosWUFBTUMsUUFBUUMsR0FBUixDQUFZVyxVQURYO0FBRVBULFlBQU1ILFFBQVFDLEdBQVIsQ0FBWVksVUFGWDtBQUdQQyxZQUFNZCxRQUFRQyxHQUFSLENBQVljLFVBSFg7QUFJUEMsZUFBUztBQUNQQyxjQUFNakIsUUFBUUMsR0FBUixDQUFZaUIsVUFEWDtBQUVQQyxjQUFNbkIsUUFBUUMsR0FBUixDQUFZbUIsVUFGWDtBQUdQQyx5QkFBaUIsSUFIVjtBQUlQQyx3QkFBZ0IsSUFKVDtBQUtQQyw0QkFBb0IsSUFMYjtBQU1QQywwQkFBa0IsS0FOWDtBQU9QQyxrQkFBVXpCLFFBQVFDLEdBQVIsQ0FBWXlCLGVBQVosSUFBK0IsRUFQbEM7QUFRUEMsMEJBQWtCM0IsUUFBUUMsR0FBUixDQUFZMkIsd0JBQVosSUFBd0M7QUFSbkQ7QUFKRixLQVBKO0FBc0JMQyxVQUFNO0FBQ0p4QixhQUFPTCxRQUFRQyxHQUFSLENBQVk2QixVQURmO0FBRUpDLFlBQU0vQixRQUFRQyxHQUFSLENBQVkrQixTQUZkO0FBR0pDLG1CQUFhO0FBQ1hsQyxjQUFNQyxRQUFRQyxHQUFSLENBQVlpQyxxQkFEUDtBQUVYL0IsY0FBTUgsUUFBUUMsR0FBUixDQUFZa0MscUJBQVosSUFBcUMsR0FGaEM7QUFHWEMsY0FBTTtBQUNKbkIsZ0JBQU1qQixRQUFRQyxHQUFSLENBQVlvQywwQkFEZDtBQUVKbEIsZ0JBQU1uQixRQUFRQyxHQUFSLENBQVlxQztBQUZkLFNBSEs7QUFPWEMsYUFBS3ZDLFFBQVFDLEdBQVIsQ0FBWXVDLDRCQUFaLElBQTRDLEVBQUNDLG9CQUFvQixLQUFyQjtBQVB0QztBQUhUO0FBdEJELEdBQVA7QUFvQ0QiLCJmaWxlIjoiY29uZmlnLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvc2VydmVyL2NvbmZpZyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbmZpZygpIHtcbiAgcmV0dXJuIHtcbiAgICBhcHA6IHtcbiAgICAgIGhvc3Q6IHByb2Nlc3MuZW52LkFQUF9IT1NULFxuICAgICAgcG9ydDogcHJvY2Vzcy5lbnYuQVBQX1BPUlQsXG4gICAgICBhZG1pbjogcHJvY2Vzcy5lbnYuQVBQX0FETUlOX1VSTCxcbiAgICAgIHJvb3RmczogcHJvY2Vzcy5lbnYuQVBQX0hPTUUgfHwgcGF0aC5ub3JtYWxpemUoYCR7X19kaXJuYW1lfWApXG4gICAgfSxcbiAgICBtb25nb2RiOiB7XG4gICAgICBob3N0OiBwcm9jZXNzLmVudi5NT05HT19IT1NULFxuICAgICAgcG9ydDogcHJvY2Vzcy5lbnYuTU9OR09fUE9SVCxcbiAgICAgIG5hbWU6IHByb2Nlc3MuZW52Lk1PTkdPX05BTUUsXG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIHVzZXI6IHByb2Nlc3MuZW52Lk1PTkdPX1VTRVIsXG4gICAgICAgIHBhc3M6IHByb2Nlc3MuZW52Lk1PTkdPX1BBU1MsXG4gICAgICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcbiAgICAgICAgdXNlQ3JlYXRlSW5kZXg6IHRydWUsXG4gICAgICAgIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSxcbiAgICAgICAgdXNlRmluZEFuZE1vZGlmeTogZmFsc2UsXG4gICAgICAgIHBvb2xTaXplOiBwcm9jZXNzLmVudi5NT05HT19QT09MX1NJWkUgfHwgMTAsXG4gICAgICAgIGJ1ZmZlck1heEVudHJpZXM6IHByb2Nlc3MuZW52Lk1PTkdPX0JVRkZFUl9NQVhfRU5UUklFUyB8fCAwXG4gICAgICB9LFxuICAgIH0sXG4gICAgbWFpbDoge1xuICAgICAgYWRtaW46IHByb2Nlc3MuZW52Lk1BSUxfQURNSU4sXG4gICAgICBmcm9tOiBwcm9jZXNzLmVudi5NQUlMX0ZST00sXG4gICAgICBjcmVkZW50aWFsczoge1xuICAgICAgICBob3N0OiBwcm9jZXNzLmVudi5NQUlMX0NSRURFTlRJQUxTX0hPU1QsXG4gICAgICAgIHBvcnQ6IHByb2Nlc3MuZW52Lk1BSUxfQ1JFREVOVElBTFNfUE9SVCB8fCA1ODcsXG4gICAgICAgIGF1dGg6IHtcbiAgICAgICAgICB1c2VyOiBwcm9jZXNzLmVudi5NQUlMX0NSRURFTlRJQUxTX0FVVEhfVVNFUixcbiAgICAgICAgICBwYXNzOiBwcm9jZXNzLmVudi5NQUlMX0NSRURFTlRJQUxTX0FVVEhfUEFTUyxcbiAgICAgICAgfSxcbiAgICAgICAgdGxzOiBwcm9jZXNzLmVudi5NQUlMX0NSRURFTlRJQUxTX1RMU19PUFRJT05TIHx8IHtyZWplY3RVbmF1dGhvcml6ZWQ6IGZhbHNlfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "config",
        "path",
        "require",
        "app",
        "host",
        "process",
        "env",
        "APP_HOST",
        "port",
        "APP_PORT",
        "admin",
        "APP_ADMIN_URL",
        "rootfs",
        "APP_HOME",
        "normalize",
        "__dirname",
        "mongodb",
        "MONGO_HOST",
        "MONGO_PORT",
        "name",
        "MONGO_NAME",
        "options",
        "user",
        "MONGO_USER",
        "pass",
        "MONGO_PASS",
        "useNewUrlParser",
        "useCreateIndex",
        "useUnifiedTopology",
        "useFindAndModify",
        "poolSize",
        "MONGO_POOL_SIZE",
        "bufferMaxEntries",
        "MONGO_BUFFER_MAX_ENTRIES",
        "mail",
        "MAIL_ADMIN",
        "from",
        "MAIL_FROM",
        "credentials",
        "MAIL_CREDENTIALS_HOST",
        "MAIL_CREDENTIALS_PORT",
        "auth",
        "MAIL_CREDENTIALS_AUTH_USER",
        "MAIL_CREDENTIALS_AUTH_PASS",
        "tls",
        "MAIL_CREDENTIALS_TLS_OPTIONS",
        "rejectUnauthorized"
      ],
      "mappings": ";;;;;kBAEwBA,M;AAFxB,MAAMC,OAAOC,QAAQ,MAAR,CAAb;;AAEe,SAASF,MAAT,GAAkB;AAC/B,SAAO;AACLG,SAAK;AACHC,YAAMC,QAAQC,GAAR,CAAYC,QADf;AAEHC,YAAMH,QAAQC,GAAR,CAAYG,QAFf;AAGHC,aAAOL,QAAQC,GAAR,CAAYK,aAHhB;AAIHC,cAAQP,QAAQC,GAAR,CAAYO,QAAZ,IAAwBZ,KAAKa,SAAL,CAAgB,GAAEC,SAAU,EAA5B;AAJ7B,KADA;AAOLC,aAAS;AACPZ,YAAMC,QAAQC,GAAR,CAAYW,UADX;AAEPT,YAAMH,QAAQC,GAAR,CAAYY,UAFX;AAGPC,YAAMd,QAAQC,GAAR,CAAYc,UAHX;AAIPC,eAAS;AACPC,cAAMjB,QAAQC,GAAR,CAAYiB,UADX;AAEPC,cAAMnB,QAAQC,GAAR,CAAYmB,UAFX;AAGPC,yBAAiB,IAHV;AAIPC,wBAAgB,IAJT;AAKPC,4BAAoB,IALb;AAMPC,0BAAkB,KANX;AAOPC,kBAAUzB,QAAQC,GAAR,CAAYyB,eAAZ,IAA+B,EAPlC;AAQPC,0BAAkB3B,QAAQC,GAAR,CAAY2B,wBAAZ,IAAwC;AARnD;AAJF,KAPJ;AAsBLC,UAAM;AACJxB,aAAOL,QAAQC,GAAR,CAAY6B,UADf;AAEJC,YAAM/B,QAAQC,GAAR,CAAY+B,SAFd;AAGJC,mBAAa;AACXlC,cAAMC,QAAQC,GAAR,CAAYiC,qBADP;AAEX/B,cAAMH,QAAQC,GAAR,CAAYkC,qBAAZ,IAAqC,GAFhC;AAGXC,cAAM;AACJnB,gBAAMjB,QAAQC,GAAR,CAAYoC,0BADd;AAEJlB,gBAAMnB,QAAQC,GAAR,CAAYqC;AAFd,SAHK;AAOXC,aAAKvC,QAAQC,GAAR,CAAYuC,4BAAZ,IAA4C,EAACC,oBAAoB,KAArB;AAPtC;AAHT;AAtBD,GAAP;AAoCD",
      "file": "config.js",
      "sourceRoot": "/app/server/config",
      "sourcesContent": [
        "const path = require('path');\n\nexport default function config() {\n  return {\n    app: {\n      host: process.env.APP_HOST,\n      port: process.env.APP_PORT,\n      admin: process.env.APP_ADMIN_URL,\n      rootfs: process.env.APP_HOME || path.normalize(`${__dirname}`)\n    },\n    mongodb: {\n      host: process.env.MONGO_HOST,\n      port: process.env.MONGO_PORT,\n      name: process.env.MONGO_NAME,\n      options: {\n        user: process.env.MONGO_USER,\n        pass: process.env.MONGO_PASS,\n        useNewUrlParser: true,\n        useCreateIndex: true,\n        useUnifiedTopology: true,\n        useFindAndModify: false,\n        poolSize: process.env.MONGO_POOL_SIZE || 10,\n        bufferMaxEntries: process.env.MONGO_BUFFER_MAX_ENTRIES || 0\n      },\n    },\n    mail: {\n      admin: process.env.MAIL_ADMIN,\n      from: process.env.MAIL_FROM,\n      credentials: {\n        host: process.env.MAIL_CREDENTIALS_HOST,\n        port: process.env.MAIL_CREDENTIALS_PORT || 587,\n        auth: {\n          user: process.env.MAIL_CREDENTIALS_AUTH_USER,\n          pass: process.env.MAIL_CREDENTIALS_AUTH_PASS,\n        },\n        tls: process.env.MAIL_CREDENTIALS_TLS_OPTIONS || {rejectUnauthorized: false}\n      }\n    }\n  };\n};\n"
      ]
    },
    "mtime": 1690958220506
  },
  "{\"filename\":\"/app/server/config/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/server/config\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.3": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/server/config/index.js",
      "filenameRelative": "/app/server/config/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/app/server/config",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/server/config",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst path = require('path');\n\nfunction config() {\n  return {\n    app: {\n      host: process.env.APP_HOST,\n      port: process.env.APP_PORT || '3000',\n      admin: process.env.APP_ADMIN_URL,\n      rootfs: process.env.APP_HOME || path.normalize(`${__dirname}`),\n      jwt_secret: 'my->jwt->secret->key',\n      authorization: ['/user', '/users', '/dashboard']\n    },\n    mongodb: {\n      host: process.env.MONGO_HOST,\n      port: process.env.MONGO_PORT,\n      name: process.env.MONGO_NAME,\n      options: {\n        user: process.env.MONGO_USER,\n        pass: process.env.MONGO_PASS,\n        useNewUrlParser: true,\n        useCreateIndex: true,\n        useUnifiedTopology: true,\n        useFindAndModify: false,\n        poolSize: process.env.MONGO_POOL_SIZE || 10\n        //bufferMaxEntries: process.env.MONGO_BUFFER_MAX_ENTRIES || 0\n      }\n    },\n    mail: {\n      admin: process.env.MAIL_ADMIN,\n      from: process.env.MAIL_FROM,\n      credentials: {\n        host: process.env.MAIL_CREDENTIALS_HOST,\n        port: process.env.MAIL_CREDENTIALS_PORT || 587,\n        auth: {\n          user: process.env.MAIL_CREDENTIALS_AUTH_USER,\n          pass: process.env.MAIL_CREDENTIALS_AUTH_PASS\n        },\n        tls: process.env.MAIL_CREDENTIALS_TLS_OPTIONS || { rejectUnauthorized: false }\n      }\n    }\n  };\n};\n\nexports.default = config();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInBhdGgiLCJyZXF1aXJlIiwiY29uZmlnIiwiYXBwIiwiaG9zdCIsInByb2Nlc3MiLCJlbnYiLCJBUFBfSE9TVCIsInBvcnQiLCJBUFBfUE9SVCIsImFkbWluIiwiQVBQX0FETUlOX1VSTCIsInJvb3RmcyIsIkFQUF9IT01FIiwibm9ybWFsaXplIiwiX19kaXJuYW1lIiwiand0X3NlY3JldCIsImF1dGhvcml6YXRpb24iLCJtb25nb2RiIiwiTU9OR09fSE9TVCIsIk1PTkdPX1BPUlQiLCJuYW1lIiwiTU9OR09fTkFNRSIsIm9wdGlvbnMiLCJ1c2VyIiwiTU9OR09fVVNFUiIsInBhc3MiLCJNT05HT19QQVNTIiwidXNlTmV3VXJsUGFyc2VyIiwidXNlQ3JlYXRlSW5kZXgiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ1c2VGaW5kQW5kTW9kaWZ5IiwicG9vbFNpemUiLCJNT05HT19QT09MX1NJWkUiLCJtYWlsIiwiTUFJTF9BRE1JTiIsImZyb20iLCJNQUlMX0ZST00iLCJjcmVkZW50aWFscyIsIk1BSUxfQ1JFREVOVElBTFNfSE9TVCIsIk1BSUxfQ1JFREVOVElBTFNfUE9SVCIsImF1dGgiLCJNQUlMX0NSRURFTlRJQUxTX0FVVEhfVVNFUiIsIk1BSUxfQ1JFREVOVElBTFNfQVVUSF9QQVNTIiwidGxzIiwiTUFJTF9DUkVERU5USUFMU19UTFNfT1BUSU9OUyIsInJlamVjdFVuYXV0aG9yaXplZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxNQUFNQSxPQUFPQyxRQUFRLE1BQVIsQ0FBYjs7QUFFQSxTQUFTQyxNQUFULEdBQWtCO0FBQ2hCLFNBQU87QUFDTEMsU0FBSztBQUNIQyxZQUFNQyxRQUFRQyxHQUFSLENBQVlDLFFBRGY7QUFFSEMsWUFBTUgsUUFBUUMsR0FBUixDQUFZRyxRQUFaLElBQXdCLE1BRjNCO0FBR0hDLGFBQU9MLFFBQVFDLEdBQVIsQ0FBWUssYUFIaEI7QUFJSEMsY0FBUVAsUUFBUUMsR0FBUixDQUFZTyxRQUFaLElBQXdCYixLQUFLYyxTQUFMLENBQWdCLEdBQUVDLFNBQVUsRUFBNUIsQ0FKN0I7QUFLSEMsa0JBQVksc0JBTFQ7QUFNSEMscUJBQWUsQ0FDYixPQURhLEVBRWIsUUFGYSxFQUdiLFlBSGE7QUFOWixLQURBO0FBYUxDLGFBQVM7QUFDUGQsWUFBTUMsUUFBUUMsR0FBUixDQUFZYSxVQURYO0FBRVBYLFlBQU1ILFFBQVFDLEdBQVIsQ0FBWWMsVUFGWDtBQUdQQyxZQUFNaEIsUUFBUUMsR0FBUixDQUFZZ0IsVUFIWDtBQUlQQyxlQUFTO0FBQ1BDLGNBQU1uQixRQUFRQyxHQUFSLENBQVltQixVQURYO0FBRVBDLGNBQU1yQixRQUFRQyxHQUFSLENBQVlxQixVQUZYO0FBR1BDLHlCQUFpQixJQUhWO0FBSVBDLHdCQUFnQixJQUpUO0FBS1BDLDRCQUFvQixJQUxiO0FBTVBDLDBCQUFrQixLQU5YO0FBT1BDLGtCQUFVM0IsUUFBUUMsR0FBUixDQUFZMkIsZUFBWixJQUErQjtBQUN6QztBQVJPO0FBSkYsS0FiSjtBQTRCTEMsVUFBTTtBQUNKeEIsYUFBT0wsUUFBUUMsR0FBUixDQUFZNkIsVUFEZjtBQUVKQyxZQUFNL0IsUUFBUUMsR0FBUixDQUFZK0IsU0FGZDtBQUdKQyxtQkFBYTtBQUNYbEMsY0FBTUMsUUFBUUMsR0FBUixDQUFZaUMscUJBRFA7QUFFWC9CLGNBQU1ILFFBQVFDLEdBQVIsQ0FBWWtDLHFCQUFaLElBQXFDLEdBRmhDO0FBR1hDLGNBQU07QUFDSmpCLGdCQUFNbkIsUUFBUUMsR0FBUixDQUFZb0MsMEJBRGQ7QUFFSmhCLGdCQUFNckIsUUFBUUMsR0FBUixDQUFZcUM7QUFGZCxTQUhLO0FBT1hDLGFBQUt2QyxRQUFRQyxHQUFSLENBQVl1Qyw0QkFBWixJQUE0QyxFQUFDQyxvQkFBb0IsS0FBckI7QUFQdEM7QUFIVDtBQTVCRCxHQUFQO0FBMENEOztrQkFFYzVDLFEiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2FwcC9zZXJ2ZXIvY29uZmlnIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxuZnVuY3Rpb24gY29uZmlnKCkge1xuICByZXR1cm4ge1xuICAgIGFwcDoge1xuICAgICAgaG9zdDogcHJvY2Vzcy5lbnYuQVBQX0hPU1QsXG4gICAgICBwb3J0OiBwcm9jZXNzLmVudi5BUFBfUE9SVCB8fCAnMzAwMCcsXG4gICAgICBhZG1pbjogcHJvY2Vzcy5lbnYuQVBQX0FETUlOX1VSTCxcbiAgICAgIHJvb3RmczogcHJvY2Vzcy5lbnYuQVBQX0hPTUUgfHwgcGF0aC5ub3JtYWxpemUoYCR7X19kaXJuYW1lfWApLFxuICAgICAgand0X3NlY3JldDogJ215LT5qd3QtPnNlY3JldC0+a2V5JyxcbiAgICAgIGF1dGhvcml6YXRpb246IFtcbiAgICAgICAgJy91c2VyJyxcbiAgICAgICAgJy91c2VycycsXG4gICAgICAgICcvZGFzaGJvYXJkJyxcbiAgICAgIF0sXG4gICAgfSxcbiAgICBtb25nb2RiOiB7XG4gICAgICBob3N0OiBwcm9jZXNzLmVudi5NT05HT19IT1NULFxuICAgICAgcG9ydDogcHJvY2Vzcy5lbnYuTU9OR09fUE9SVCxcbiAgICAgIG5hbWU6IHByb2Nlc3MuZW52Lk1PTkdPX05BTUUsXG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIHVzZXI6IHByb2Nlc3MuZW52Lk1PTkdPX1VTRVIsXG4gICAgICAgIHBhc3M6IHByb2Nlc3MuZW52Lk1PTkdPX1BBU1MsXG4gICAgICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcbiAgICAgICAgdXNlQ3JlYXRlSW5kZXg6IHRydWUsXG4gICAgICAgIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSxcbiAgICAgICAgdXNlRmluZEFuZE1vZGlmeTogZmFsc2UsXG4gICAgICAgIHBvb2xTaXplOiBwcm9jZXNzLmVudi5NT05HT19QT09MX1NJWkUgfHwgMTAsXG4gICAgICAgIC8vYnVmZmVyTWF4RW50cmllczogcHJvY2Vzcy5lbnYuTU9OR09fQlVGRkVSX01BWF9FTlRSSUVTIHx8IDBcbiAgICAgIH0sXG4gICAgfSxcbiAgICBtYWlsOiB7XG4gICAgICBhZG1pbjogcHJvY2Vzcy5lbnYuTUFJTF9BRE1JTixcbiAgICAgIGZyb206IHByb2Nlc3MuZW52Lk1BSUxfRlJPTSxcbiAgICAgIGNyZWRlbnRpYWxzOiB7XG4gICAgICAgIGhvc3Q6IHByb2Nlc3MuZW52Lk1BSUxfQ1JFREVOVElBTFNfSE9TVCxcbiAgICAgICAgcG9ydDogcHJvY2Vzcy5lbnYuTUFJTF9DUkVERU5USUFMU19QT1JUIHx8IDU4NyxcbiAgICAgICAgYXV0aDoge1xuICAgICAgICAgIHVzZXI6IHByb2Nlc3MuZW52Lk1BSUxfQ1JFREVOVElBTFNfQVVUSF9VU0VSLFxuICAgICAgICAgIHBhc3M6IHByb2Nlc3MuZW52Lk1BSUxfQ1JFREVOVElBTFNfQVVUSF9QQVNTLFxuICAgICAgICB9LFxuICAgICAgICB0bHM6IHByb2Nlc3MuZW52Lk1BSUxfQ1JFREVOVElBTFNfVExTX09QVElPTlMgfHwge3JlamVjdFVuYXV0aG9yaXplZDogZmFsc2V9XG4gICAgICB9XG4gICAgfVxuICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY29uZmlnKCk7Il19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "path",
        "require",
        "config",
        "app",
        "host",
        "process",
        "env",
        "APP_HOST",
        "port",
        "APP_PORT",
        "admin",
        "APP_ADMIN_URL",
        "rootfs",
        "APP_HOME",
        "normalize",
        "__dirname",
        "jwt_secret",
        "authorization",
        "mongodb",
        "MONGO_HOST",
        "MONGO_PORT",
        "name",
        "MONGO_NAME",
        "options",
        "user",
        "MONGO_USER",
        "pass",
        "MONGO_PASS",
        "useNewUrlParser",
        "useCreateIndex",
        "useUnifiedTopology",
        "useFindAndModify",
        "poolSize",
        "MONGO_POOL_SIZE",
        "mail",
        "MAIL_ADMIN",
        "from",
        "MAIL_FROM",
        "credentials",
        "MAIL_CREDENTIALS_HOST",
        "MAIL_CREDENTIALS_PORT",
        "auth",
        "MAIL_CREDENTIALS_AUTH_USER",
        "MAIL_CREDENTIALS_AUTH_PASS",
        "tls",
        "MAIL_CREDENTIALS_TLS_OPTIONS",
        "rejectUnauthorized"
      ],
      "mappings": ";;;;;AAAA,MAAMA,OAAOC,QAAQ,MAAR,CAAb;;AAEA,SAASC,MAAT,GAAkB;AAChB,SAAO;AACLC,SAAK;AACHC,YAAMC,QAAQC,GAAR,CAAYC,QADf;AAEHC,YAAMH,QAAQC,GAAR,CAAYG,QAAZ,IAAwB,MAF3B;AAGHC,aAAOL,QAAQC,GAAR,CAAYK,aAHhB;AAIHC,cAAQP,QAAQC,GAAR,CAAYO,QAAZ,IAAwBb,KAAKc,SAAL,CAAgB,GAAEC,SAAU,EAA5B,CAJ7B;AAKHC,kBAAY,sBALT;AAMHC,qBAAe,CACb,OADa,EAEb,QAFa,EAGb,YAHa;AANZ,KADA;AAaLC,aAAS;AACPd,YAAMC,QAAQC,GAAR,CAAYa,UADX;AAEPX,YAAMH,QAAQC,GAAR,CAAYc,UAFX;AAGPC,YAAMhB,QAAQC,GAAR,CAAYgB,UAHX;AAIPC,eAAS;AACPC,cAAMnB,QAAQC,GAAR,CAAYmB,UADX;AAEPC,cAAMrB,QAAQC,GAAR,CAAYqB,UAFX;AAGPC,yBAAiB,IAHV;AAIPC,wBAAgB,IAJT;AAKPC,4BAAoB,IALb;AAMPC,0BAAkB,KANX;AAOPC,kBAAU3B,QAAQC,GAAR,CAAY2B,eAAZ,IAA+B;AACzC;AARO;AAJF,KAbJ;AA4BLC,UAAM;AACJxB,aAAOL,QAAQC,GAAR,CAAY6B,UADf;AAEJC,YAAM/B,QAAQC,GAAR,CAAY+B,SAFd;AAGJC,mBAAa;AACXlC,cAAMC,QAAQC,GAAR,CAAYiC,qBADP;AAEX/B,cAAMH,QAAQC,GAAR,CAAYkC,qBAAZ,IAAqC,GAFhC;AAGXC,cAAM;AACJjB,gBAAMnB,QAAQC,GAAR,CAAYoC,0BADd;AAEJhB,gBAAMrB,QAAQC,GAAR,CAAYqC;AAFd,SAHK;AAOXC,aAAKvC,QAAQC,GAAR,CAAYuC,4BAAZ,IAA4C,EAACC,oBAAoB,KAArB;AAPtC;AAHT;AA5BD,GAAP;AA0CD;;kBAEc5C,Q",
      "file": "index.js",
      "sourceRoot": "/app/server/config",
      "sourcesContent": [
        "const path = require('path');\n\nfunction config() {\n  return {\n    app: {\n      host: process.env.APP_HOST,\n      port: process.env.APP_PORT || '3000',\n      admin: process.env.APP_ADMIN_URL,\n      rootfs: process.env.APP_HOME || path.normalize(`${__dirname}`),\n      jwt_secret: 'my->jwt->secret->key',\n      authorization: [\n        '/user',\n        '/users',\n        '/dashboard',\n      ],\n    },\n    mongodb: {\n      host: process.env.MONGO_HOST,\n      port: process.env.MONGO_PORT,\n      name: process.env.MONGO_NAME,\n      options: {\n        user: process.env.MONGO_USER,\n        pass: process.env.MONGO_PASS,\n        useNewUrlParser: true,\n        useCreateIndex: true,\n        useUnifiedTopology: true,\n        useFindAndModify: false,\n        poolSize: process.env.MONGO_POOL_SIZE || 10,\n        //bufferMaxEntries: process.env.MONGO_BUFFER_MAX_ENTRIES || 0\n      },\n    },\n    mail: {\n      admin: process.env.MAIL_ADMIN,\n      from: process.env.MAIL_FROM,\n      credentials: {\n        host: process.env.MAIL_CREDENTIALS_HOST,\n        port: process.env.MAIL_CREDENTIALS_PORT || 587,\n        auth: {\n          user: process.env.MAIL_CREDENTIALS_AUTH_USER,\n          pass: process.env.MAIL_CREDENTIALS_AUTH_PASS,\n        },\n        tls: process.env.MAIL_CREDENTIALS_TLS_OPTIONS || {rejectUnauthorized: false}\n      }\n    }\n  };\n};\n\nexport default config();"
      ]
    },
    "mtime": 1692226341809
  },
  "{\"filename\":\"/app/server/models/user/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/server/models/user\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.3": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "mongoose",
            "imported": [
              "default",
              "Schema"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "db"
              },
              {
                "kind": "named",
                "imported": "Schema",
                "local": "Schema"
              }
            ]
          },
          {
            "source": "../default",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "DefaultModel"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "User"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "User",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/server/models/user/index.js",
      "filenameRelative": "/app/server/models/user/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/app/server/models/user",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/server/models/user",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nvar _default = require('../default');\n\nvar _default2 = _interopRequireDefault(_default);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userModel = _mongoose2.default.model('users', new _mongoose.Schema({\n  username: { type: String, unique: true, index: true, required: true, dropDups: true },\n  email: { type: String, unique: true, index: true, required: true, lowercase: true },\n  password: { type: String, required: true },\n  name: { type: String, required: false },\n\n  is_active: { type: Boolean, default: true },\n  is_delete: { type: Boolean, default: false },\n  is_signed: { type: Boolean, default: false },\n  is_admin: { type: Boolean, default: false },\n\n  created_at: { type: Date, default: new Date() },\n  updated_at: { type: Date, default: new Date() }\n}, {\n  strict: false,\n  collection: 'users'\n})\n// hooks for creation users\n.pre('save', function (next) {\n  let now = new Date();\n  this.updated_at = now;\n\n  if (!this.created_at) this.created_at = now;\n\n  if (this.password) {\n    // TODO password hashed\n  }\n\n  next();\n}).post('save', function (error, doc, next) {\n  if (typeof error === 'object' && error.name !== 'MongoError') return next();\n\n  next(error);\n}).pre('updateOne', async function (next) {\n  const user = await this.findOne(this.getFilter());\n  const update_values = this.getUpdate();\n\n  Object.entries(update_values).forEach(([key, value]) => {\n    if (user[key] !== value) this.set({ updated_at: new Date() });\n  });\n\n  next();\n}));\n\nclass User extends _default2.default {\n  constructor() {\n    super({ model: userModel });\n  }\n}exports.default = User;\n;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInVzZXJNb2RlbCIsImRiIiwibW9kZWwiLCJTY2hlbWEiLCJ1c2VybmFtZSIsInR5cGUiLCJTdHJpbmciLCJ1bmlxdWUiLCJpbmRleCIsInJlcXVpcmVkIiwiZHJvcER1cHMiLCJlbWFpbCIsImxvd2VyY2FzZSIsInBhc3N3b3JkIiwibmFtZSIsImlzX2FjdGl2ZSIsIkJvb2xlYW4iLCJkZWZhdWx0IiwiaXNfZGVsZXRlIiwiaXNfc2lnbmVkIiwiaXNfYWRtaW4iLCJjcmVhdGVkX2F0IiwiRGF0ZSIsInVwZGF0ZWRfYXQiLCJzdHJpY3QiLCJjb2xsZWN0aW9uIiwicHJlIiwibmV4dCIsIm5vdyIsInBvc3QiLCJlcnJvciIsImRvYyIsInVzZXIiLCJmaW5kT25lIiwiZ2V0RmlsdGVyIiwidXBkYXRlX3ZhbHVlcyIsImdldFVwZGF0ZSIsIk9iamVjdCIsImVudHJpZXMiLCJmb3JFYWNoIiwia2V5IiwidmFsdWUiLCJzZXQiLCJVc2VyIiwiRGVmYXVsdE1vZGVsIiwiY29uc3RydWN0b3IiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7O0FBRUE7Ozs7OztBQUdBLE1BQU1BLFlBQVlDLG1CQUFHQyxLQUFILENBQVMsT0FBVCxFQUNoQixJQUFJQyxnQkFBSixDQUNFO0FBQ0VDLFlBQVUsRUFBQ0MsTUFBTUMsTUFBUCxFQUFlQyxRQUFRLElBQXZCLEVBQTZCQyxPQUFPLElBQXBDLEVBQTBDQyxVQUFVLElBQXBELEVBQTBEQyxVQUFVLElBQXBFLEVBRFo7QUFFRUMsU0FBVSxFQUFDTixNQUFNQyxNQUFQLEVBQWVDLFFBQVEsSUFBdkIsRUFBNkJDLE9BQU8sSUFBcEMsRUFBMENDLFVBQVUsSUFBcEQsRUFBMERHLFdBQVcsSUFBckUsRUFGWjtBQUdFQyxZQUFVLEVBQUNSLE1BQU1DLE1BQVAsRUFBZUcsVUFBVSxJQUF6QixFQUhaO0FBSUVLLFFBQVUsRUFBQ1QsTUFBTUMsTUFBUCxFQUFlRyxVQUFVLEtBQXpCLEVBSlo7O0FBTUVNLGFBQVcsRUFBQ1YsTUFBTVcsT0FBUCxFQUFnQkMsU0FBUyxJQUF6QixFQU5iO0FBT0VDLGFBQVcsRUFBQ2IsTUFBTVcsT0FBUCxFQUFnQkMsU0FBUyxLQUF6QixFQVBiO0FBUUVFLGFBQVcsRUFBQ2QsTUFBTVcsT0FBUCxFQUFnQkMsU0FBUyxLQUF6QixFQVJiO0FBU0VHLFlBQVcsRUFBQ2YsTUFBTVcsT0FBUCxFQUFnQkMsU0FBUyxLQUF6QixFQVRiOztBQVdFSSxjQUFZLEVBQUNoQixNQUFNaUIsSUFBUCxFQUFhTCxTQUFTLElBQUlLLElBQUosRUFBdEIsRUFYZDtBQVlFQyxjQUFZLEVBQUNsQixNQUFNaUIsSUFBUCxFQUFhTCxTQUFTLElBQUlLLElBQUosRUFBdEI7QUFaZCxDQURGLEVBZUU7QUFDRUUsVUFBUSxLQURWO0FBRUVDLGNBQVk7QUFGZCxDQWZGO0FBb0JBO0FBcEJBLENBcUJDQyxHQXJCRCxDQXFCSyxNQXJCTCxFQXFCYSxVQUFVQyxJQUFWLEVBQWdCO0FBQzNCLE1BQUlDLE1BQU0sSUFBSU4sSUFBSixFQUFWO0FBQ0EsT0FBS0MsVUFBTCxHQUFrQkssR0FBbEI7O0FBRUEsTUFBSSxDQUFDLEtBQUtQLFVBQVYsRUFBc0IsS0FBS0EsVUFBTCxHQUFrQk8sR0FBbEI7O0FBRXRCLE1BQUksS0FBS2YsUUFBVCxFQUFtQjtBQUNqQjtBQUNEOztBQUVEYztBQUNELENBaENELEVBaUNDRSxJQWpDRCxDQWlDTSxNQWpDTixFQWlDYyxVQUFVQyxLQUFWLEVBQWlCQyxHQUFqQixFQUFzQkosSUFBdEIsRUFBNEI7QUFDeEMsTUFBSSxPQUFPRyxLQUFQLEtBQWlCLFFBQWpCLElBQTZCQSxNQUFNaEIsSUFBTixLQUFlLFlBQWhELEVBQThELE9BQU9hLE1BQVA7O0FBRTlEQSxPQUFLRyxLQUFMO0FBQ0QsQ0FyQ0QsRUFzQ0NKLEdBdENELENBc0NLLFdBdENMLEVBc0NrQixnQkFBZ0JDLElBQWhCLEVBQXNCO0FBQ3RDLFFBQU1LLE9BQU8sTUFBTSxLQUFLQyxPQUFMLENBQWEsS0FBS0MsU0FBTCxFQUFiLENBQW5CO0FBQ0EsUUFBTUMsZ0JBQWdCLEtBQUtDLFNBQUwsRUFBdEI7O0FBRUFDLFNBQU9DLE9BQVAsQ0FBZUgsYUFBZixFQUE4QkksT0FBOUIsQ0FBc0MsQ0FBQyxDQUFDQyxHQUFELEVBQU1DLEtBQU4sQ0FBRCxLQUFrQjtBQUN0RCxRQUFJVCxLQUFLUSxHQUFMLE1BQWNDLEtBQWxCLEVBQXlCLEtBQUtDLEdBQUwsQ0FBUyxFQUFDbkIsWUFBWSxJQUFJRCxJQUFKLEVBQWIsRUFBVDtBQUMxQixHQUZEOztBQUlBSztBQUNELENBL0NELENBRGdCLENBQWxCOztBQW1EZSxNQUFNZ0IsSUFBTixTQUFtQkMsaUJBQW5CLENBQWdDO0FBQzdDQyxnQkFBYztBQUNaLFVBQU0sRUFBQzNDLE9BQU9GLFNBQVIsRUFBTjtBQUNEO0FBSDRDLEMsa0JBQTFCMkMsSTtBQUlwQiIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL3NlcnZlci9tb2RlbHMvdXNlciIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkYiwgeyBTY2hlbWEgfSBmcm9tICdtb25nb29zZSc7XG5cbmltcG9ydCBEZWZhdWx0TW9kZWwgICBmcm9tICcuLi9kZWZhdWx0JztcblxuXG5jb25zdCB1c2VyTW9kZWwgPSBkYi5tb2RlbCgndXNlcnMnLCBcbiAgbmV3IFNjaGVtYShcbiAgICB7XG4gICAgICB1c2VybmFtZToge3R5cGU6IFN0cmluZywgdW5pcXVlOiB0cnVlLCBpbmRleDogdHJ1ZSwgcmVxdWlyZWQ6IHRydWUsIGRyb3BEdXBzOiB0cnVlfSxcbiAgICAgIGVtYWlsICAgOiB7dHlwZTogU3RyaW5nLCB1bmlxdWU6IHRydWUsIGluZGV4OiB0cnVlLCByZXF1aXJlZDogdHJ1ZSwgbG93ZXJjYXNlOiB0cnVlfSxcbiAgICAgIHBhc3N3b3JkOiB7dHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZX0sXG4gICAgICBuYW1lICAgIDoge3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6IGZhbHNlfSxcbiAgICAgIFxuICAgICAgaXNfYWN0aXZlOiB7dHlwZTogQm9vbGVhbiwgZGVmYXVsdDogdHJ1ZX0sXG4gICAgICBpc19kZWxldGU6IHt0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZX0sXG4gICAgICBpc19zaWduZWQ6IHt0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZX0sXG4gICAgICBpc19hZG1pbiA6IHt0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZX0sXG5cbiAgICAgIGNyZWF0ZWRfYXQ6IHt0eXBlOiBEYXRlLCBkZWZhdWx0OiBuZXcgRGF0ZSgpfSxcbiAgICAgIHVwZGF0ZWRfYXQ6IHt0eXBlOiBEYXRlLCBkZWZhdWx0OiBuZXcgRGF0ZSgpfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIHN0cmljdDogZmFsc2UsXG4gICAgICBjb2xsZWN0aW9uOiAndXNlcnMnXG4gICAgfVxuICApXG4gIC8vIGhvb2tzIGZvciBjcmVhdGlvbiB1c2Vyc1xuICAucHJlKCdzYXZlJywgZnVuY3Rpb24gKG5leHQpIHtcbiAgICBsZXQgbm93ID0gbmV3IERhdGUoKTtcbiAgICB0aGlzLnVwZGF0ZWRfYXQgPSBub3c7XG5cbiAgICBpZiAoIXRoaXMuY3JlYXRlZF9hdCkgdGhpcy5jcmVhdGVkX2F0ID0gbm93O1xuXG4gICAgaWYgKHRoaXMucGFzc3dvcmQpIHtcbiAgICAgIC8vIFRPRE8gcGFzc3dvcmQgaGFzaGVkXG4gICAgfVxuICAgIFxuICAgIG5leHQoKTtcbiAgfSlcbiAgLnBvc3QoJ3NhdmUnLCBmdW5jdGlvbiAoZXJyb3IsIGRvYywgbmV4dCkge1xuICAgIGlmICh0eXBlb2YgZXJyb3IgPT09ICdvYmplY3QnICYmIGVycm9yLm5hbWUgIT09ICdNb25nb0Vycm9yJykgcmV0dXJuIG5leHQoKTtcbiAgXG4gICAgbmV4dChlcnJvcik7XG4gIH0pXG4gIC5wcmUoJ3VwZGF0ZU9uZScsIGFzeW5jIGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHRoaXMuZmluZE9uZSh0aGlzLmdldEZpbHRlcigpKTtcbiAgICBjb25zdCB1cGRhdGVfdmFsdWVzID0gdGhpcy5nZXRVcGRhdGUoKTtcbiAgICBcbiAgICBPYmplY3QuZW50cmllcyh1cGRhdGVfdmFsdWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgIGlmICh1c2VyW2tleV0gIT09IHZhbHVlKSB0aGlzLnNldCh7dXBkYXRlZF9hdDogbmV3IERhdGUoKX0pO1xuICAgIH0pO1xuXG4gICAgbmV4dCgpO1xuICB9KVxuKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlciBleHRlbmRzIERlZmF1bHRNb2RlbCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKHttb2RlbDogdXNlck1vZGVsfSk7XG4gIH1cbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "userModel",
        "db",
        "model",
        "Schema",
        "username",
        "type",
        "String",
        "unique",
        "index",
        "required",
        "dropDups",
        "email",
        "lowercase",
        "password",
        "name",
        "is_active",
        "Boolean",
        "default",
        "is_delete",
        "is_signed",
        "is_admin",
        "created_at",
        "Date",
        "updated_at",
        "strict",
        "collection",
        "pre",
        "next",
        "now",
        "post",
        "error",
        "doc",
        "user",
        "findOne",
        "getFilter",
        "update_values",
        "getUpdate",
        "Object",
        "entries",
        "forEach",
        "key",
        "value",
        "set",
        "User",
        "DefaultModel",
        "constructor"
      ],
      "mappings": ";;;;;;AAAA;;;;AAEA;;;;;;AAGA,MAAMA,YAAYC,mBAAGC,KAAH,CAAS,OAAT,EAChB,IAAIC,gBAAJ,CACE;AACEC,YAAU,EAACC,MAAMC,MAAP,EAAeC,QAAQ,IAAvB,EAA6BC,OAAO,IAApC,EAA0CC,UAAU,IAApD,EAA0DC,UAAU,IAApE,EADZ;AAEEC,SAAU,EAACN,MAAMC,MAAP,EAAeC,QAAQ,IAAvB,EAA6BC,OAAO,IAApC,EAA0CC,UAAU,IAApD,EAA0DG,WAAW,IAArE,EAFZ;AAGEC,YAAU,EAACR,MAAMC,MAAP,EAAeG,UAAU,IAAzB,EAHZ;AAIEK,QAAU,EAACT,MAAMC,MAAP,EAAeG,UAAU,KAAzB,EAJZ;;AAMEM,aAAW,EAACV,MAAMW,OAAP,EAAgBC,SAAS,IAAzB,EANb;AAOEC,aAAW,EAACb,MAAMW,OAAP,EAAgBC,SAAS,KAAzB,EAPb;AAQEE,aAAW,EAACd,MAAMW,OAAP,EAAgBC,SAAS,KAAzB,EARb;AASEG,YAAW,EAACf,MAAMW,OAAP,EAAgBC,SAAS,KAAzB,EATb;;AAWEI,cAAY,EAAChB,MAAMiB,IAAP,EAAaL,SAAS,IAAIK,IAAJ,EAAtB,EAXd;AAYEC,cAAY,EAAClB,MAAMiB,IAAP,EAAaL,SAAS,IAAIK,IAAJ,EAAtB;AAZd,CADF,EAeE;AACEE,UAAQ,KADV;AAEEC,cAAY;AAFd,CAfF;AAoBA;AApBA,CAqBCC,GArBD,CAqBK,MArBL,EAqBa,UAAUC,IAAV,EAAgB;AAC3B,MAAIC,MAAM,IAAIN,IAAJ,EAAV;AACA,OAAKC,UAAL,GAAkBK,GAAlB;;AAEA,MAAI,CAAC,KAAKP,UAAV,EAAsB,KAAKA,UAAL,GAAkBO,GAAlB;;AAEtB,MAAI,KAAKf,QAAT,EAAmB;AACjB;AACD;;AAEDc;AACD,CAhCD,EAiCCE,IAjCD,CAiCM,MAjCN,EAiCc,UAAUC,KAAV,EAAiBC,GAAjB,EAAsBJ,IAAtB,EAA4B;AACxC,MAAI,OAAOG,KAAP,KAAiB,QAAjB,IAA6BA,MAAMhB,IAAN,KAAe,YAAhD,EAA8D,OAAOa,MAAP;;AAE9DA,OAAKG,KAAL;AACD,CArCD,EAsCCJ,GAtCD,CAsCK,WAtCL,EAsCkB,gBAAgBC,IAAhB,EAAsB;AACtC,QAAMK,OAAO,MAAM,KAAKC,OAAL,CAAa,KAAKC,SAAL,EAAb,CAAnB;AACA,QAAMC,gBAAgB,KAAKC,SAAL,EAAtB;;AAEAC,SAAOC,OAAP,CAAeH,aAAf,EAA8BI,OAA9B,CAAsC,CAAC,CAACC,GAAD,EAAMC,KAAN,CAAD,KAAkB;AACtD,QAAIT,KAAKQ,GAAL,MAAcC,KAAlB,EAAyB,KAAKC,GAAL,CAAS,EAACnB,YAAY,IAAID,IAAJ,EAAb,EAAT;AAC1B,GAFD;;AAIAK;AACD,CA/CD,CADgB,CAAlB;;AAmDe,MAAMgB,IAAN,SAAmBC,iBAAnB,CAAgC;AAC7CC,gBAAc;AACZ,UAAM,EAAC3C,OAAOF,SAAR,EAAN;AACD;AAH4C,C,kBAA1B2C,I;AAIpB",
      "file": "index.js",
      "sourceRoot": "/app/server/models/user",
      "sourcesContent": [
        "import db, { Schema } from 'mongoose';\n\nimport DefaultModel   from '../default';\n\n\nconst userModel = db.model('users', \n  new Schema(\n    {\n      username: {type: String, unique: true, index: true, required: true, dropDups: true},\n      email   : {type: String, unique: true, index: true, required: true, lowercase: true},\n      password: {type: String, required: true},\n      name    : {type: String, required: false},\n      \n      is_active: {type: Boolean, default: true},\n      is_delete: {type: Boolean, default: false},\n      is_signed: {type: Boolean, default: false},\n      is_admin : {type: Boolean, default: false},\n\n      created_at: {type: Date, default: new Date()},\n      updated_at: {type: Date, default: new Date()},\n    },\n    {\n      strict: false,\n      collection: 'users'\n    }\n  )\n  // hooks for creation users\n  .pre('save', function (next) {\n    let now = new Date();\n    this.updated_at = now;\n\n    if (!this.created_at) this.created_at = now;\n\n    if (this.password) {\n      // TODO password hashed\n    }\n    \n    next();\n  })\n  .post('save', function (error, doc, next) {\n    if (typeof error === 'object' && error.name !== 'MongoError') return next();\n  \n    next(error);\n  })\n  .pre('updateOne', async function (next) {\n    const user = await this.findOne(this.getFilter());\n    const update_values = this.getUpdate();\n    \n    Object.entries(update_values).forEach(([key, value]) => {\n      if (user[key] !== value) this.set({updated_at: new Date()});\n    });\n\n    next();\n  })\n);\n\nexport default class User extends DefaultModel {\n  constructor() {\n    super({model: userModel});\n  }\n};\n"
      ]
    },
    "mtime": 1692140299280
  },
  "{\"filename\":\"/app/server/models/default.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/server/models\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.3": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [
            "DefaultModel"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "DefaultModel",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/server/models/default.js",
      "filenameRelative": "/app/server/models/default.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "default.js",
      "sourceFileName": "default.js",
      "sourceRoot": "/app/server/models",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/server/models",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "default"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nclass DefaultModel {\n  constructor({ model = undefined }) {\n    this.object = new model();\n    this.model = model;\n  }\n\n  async select(query) {\n    return await this.model.findOne(query);\n  }\n\n  async find({ query = {}, page = 1, limit = 10 }) {\n    return await this.model.find(query).limit(limit * 1).skip((page - 1) * limit).exec();\n  }\n\n  async save(values) {\n    this.object.set(values);\n    return await this.object.save();\n  }\n\n  async update(condition, values) {\n    return await this.model.updateOne(condition, values);\n  }\n\n  delete() {\n    throw 'delete method not defined';\n  }\n}exports.default = DefaultModel;\n;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlZmF1bHQuanMiXSwibmFtZXMiOlsiRGVmYXVsdE1vZGVsIiwiY29uc3RydWN0b3IiLCJtb2RlbCIsInVuZGVmaW5lZCIsIm9iamVjdCIsInNlbGVjdCIsInF1ZXJ5IiwiZmluZE9uZSIsImZpbmQiLCJwYWdlIiwibGltaXQiLCJza2lwIiwiZXhlYyIsInNhdmUiLCJ2YWx1ZXMiLCJzZXQiLCJ1cGRhdGUiLCJjb25kaXRpb24iLCJ1cGRhdGVPbmUiLCJkZWxldGUiXSwibWFwcGluZ3MiOiI7Ozs7O0FBRWUsTUFBTUEsWUFBTixDQUFtQjtBQUNoQ0MsY0FBWSxFQUFDQyxRQUFRQyxTQUFULEVBQVosRUFBaUM7QUFDL0IsU0FBS0MsTUFBTCxHQUFjLElBQUlGLEtBQUosRUFBZDtBQUNBLFNBQUtBLEtBQUwsR0FBY0EsS0FBZDtBQUNEOztBQUVELFFBQU1HLE1BQU4sQ0FBYUMsS0FBYixFQUFvQjtBQUNsQixXQUFPLE1BQU0sS0FBS0osS0FBTCxDQUFXSyxPQUFYLENBQW1CRCxLQUFuQixDQUFiO0FBQ0Q7O0FBRUQsUUFBTUUsSUFBTixDQUFXLEVBQUNGLFFBQVEsRUFBVCxFQUFhRyxPQUFPLENBQXBCLEVBQXVCQyxRQUFRLEVBQS9CLEVBQVgsRUFBK0M7QUFDN0MsV0FBTyxNQUFNLEtBQUtSLEtBQUwsQ0FBV00sSUFBWCxDQUFnQkYsS0FBaEIsRUFDV0ksS0FEWCxDQUNpQkEsUUFBUSxDQUR6QixFQUVXQyxJQUZYLENBRWdCLENBQUNGLE9BQU8sQ0FBUixJQUFhQyxLQUY3QixFQUdXRSxJQUhYLEVBQWI7QUFJRDs7QUFFRCxRQUFNQyxJQUFOLENBQVdDLE1BQVgsRUFBbUI7QUFDakIsU0FBS1YsTUFBTCxDQUFZVyxHQUFaLENBQWdCRCxNQUFoQjtBQUNBLFdBQU8sTUFBTSxLQUFLVixNQUFMLENBQVlTLElBQVosRUFBYjtBQUNEOztBQUVELFFBQU1HLE1BQU4sQ0FBYUMsU0FBYixFQUF3QkgsTUFBeEIsRUFBZ0M7QUFDOUIsV0FBTyxNQUFNLEtBQUtaLEtBQUwsQ0FBV2dCLFNBQVgsQ0FBcUJELFNBQXJCLEVBQWdDSCxNQUFoQyxDQUFiO0FBQ0Q7O0FBRURLLFdBQVM7QUFDUCxVQUFNLDJCQUFOO0FBQ0Q7QUE1QitCLEMsa0JBQWJuQixZO0FBNkJwQiIsImZpbGUiOiJkZWZhdWx0LmpzIiwic291cmNlUm9vdCI6Ii9hcHAvc2VydmVyL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZWZhdWx0TW9kZWwge1xuICBjb25zdHJ1Y3Rvcih7bW9kZWwgPSB1bmRlZmluZWR9KSB7IFxuICAgIHRoaXMub2JqZWN0ID0gbmV3IG1vZGVsKCk7XG4gICAgdGhpcy5tb2RlbCAgPSBtb2RlbDtcbiAgfVxuICBcbiAgYXN5bmMgc2VsZWN0KHF1ZXJ5KSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMubW9kZWwuZmluZE9uZShxdWVyeSk7XG4gIH1cblxuICBhc3luYyBmaW5kKHtxdWVyeSA9IHt9LCBwYWdlID0gMSwgbGltaXQgPSAxMH0pIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5tb2RlbC5maW5kKHF1ZXJ5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgLmxpbWl0KGxpbWl0ICogMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIC5za2lwKChwYWdlIC0gMSkgKiBsaW1pdClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIC5leGVjKCk7XG4gIH1cblxuICBhc3luYyBzYXZlKHZhbHVlcykge1xuICAgIHRoaXMub2JqZWN0LnNldCh2YWx1ZXMpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLm9iamVjdC5zYXZlKCk7XG4gIH1cblxuICBhc3luYyB1cGRhdGUoY29uZGl0aW9uLCB2YWx1ZXMpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5tb2RlbC51cGRhdGVPbmUoY29uZGl0aW9uLCB2YWx1ZXMpO1xuICB9XG5cbiAgZGVsZXRlKCkge1xuICAgIHRocm93ICdkZWxldGUgbWV0aG9kIG5vdCBkZWZpbmVkJztcbiAgfVxufTsiXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "default.js"
      ],
      "names": [
        "DefaultModel",
        "constructor",
        "model",
        "undefined",
        "object",
        "select",
        "query",
        "findOne",
        "find",
        "page",
        "limit",
        "skip",
        "exec",
        "save",
        "values",
        "set",
        "update",
        "condition",
        "updateOne",
        "delete"
      ],
      "mappings": ";;;;;AAEe,MAAMA,YAAN,CAAmB;AAChCC,cAAY,EAACC,QAAQC,SAAT,EAAZ,EAAiC;AAC/B,SAAKC,MAAL,GAAc,IAAIF,KAAJ,EAAd;AACA,SAAKA,KAAL,GAAcA,KAAd;AACD;;AAED,QAAMG,MAAN,CAAaC,KAAb,EAAoB;AAClB,WAAO,MAAM,KAAKJ,KAAL,CAAWK,OAAX,CAAmBD,KAAnB,CAAb;AACD;;AAED,QAAME,IAAN,CAAW,EAACF,QAAQ,EAAT,EAAaG,OAAO,CAApB,EAAuBC,QAAQ,EAA/B,EAAX,EAA+C;AAC7C,WAAO,MAAM,KAAKR,KAAL,CAAWM,IAAX,CAAgBF,KAAhB,EACWI,KADX,CACiBA,QAAQ,CADzB,EAEWC,IAFX,CAEgB,CAACF,OAAO,CAAR,IAAaC,KAF7B,EAGWE,IAHX,EAAb;AAID;;AAED,QAAMC,IAAN,CAAWC,MAAX,EAAmB;AACjB,SAAKV,MAAL,CAAYW,GAAZ,CAAgBD,MAAhB;AACA,WAAO,MAAM,KAAKV,MAAL,CAAYS,IAAZ,EAAb;AACD;;AAED,QAAMG,MAAN,CAAaC,SAAb,EAAwBH,MAAxB,EAAgC;AAC9B,WAAO,MAAM,KAAKZ,KAAL,CAAWgB,SAAX,CAAqBD,SAArB,EAAgCH,MAAhC,CAAb;AACD;;AAEDK,WAAS;AACP,UAAM,2BAAN;AACD;AA5B+B,C,kBAAbnB,Y;AA6BpB",
      "file": "default.js",
      "sourceRoot": "/app/server/models",
      "sourcesContent": [
        "\n\nexport default class DefaultModel {\n  constructor({model = undefined}) { \n    this.object = new model();\n    this.model  = model;\n  }\n  \n  async select(query) {\n    return await this.model.findOne(query);\n  }\n\n  async find({query = {}, page = 1, limit = 10}) {\n    return await this.model.find(query)\n                           .limit(limit * 1)\n                           .skip((page - 1) * limit)\n                           .exec();\n  }\n\n  async save(values) {\n    this.object.set(values);\n    return await this.object.save();\n  }\n\n  async update(condition, values) {\n    return await this.model.updateOne(condition, values);\n  }\n\n  delete() {\n    throw 'delete method not defined';\n  }\n};"
      ]
    },
    "mtime": 1692005893089
  },
  "{\"filename\":\"/app/server/app-server.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/server\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.3": {
    "metadata": {
      "usedHelpers": [
        "interopRequireWildcard",
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "http",
            "imported": [
              "*"
            ],
            "specifiers": [
              {
                "kind": "namespace",
                "local": "http"
              }
            ]
          },
          {
            "source": "mongoose",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "db"
              }
            ]
          },
          {
            "source": "./config/index",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "config"
              }
            ]
          },
          {
            "source": "./utils/error-handler",
            "imported": [
              "errorHandler",
              "apiErrorHandler"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "errorHandler",
                "local": "errorHandler"
              },
              {
                "kind": "named",
                "imported": "apiErrorHandler",
                "local": "apiErrorHandler"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "APPServer"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "APPServer",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/server/app-server.js",
      "filenameRelative": "/app/server/app-server.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "app-server.js",
      "sourceFileName": "app-server.js",
      "sourceRoot": "/app/server",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/server",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "app-server"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _http = require('http');\n\nvar http = _interopRequireWildcard(_http);\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nvar _index = require('./config/index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _errorHandler = require('./utils/error-handler');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nclass APPServer {\n\n  constructor({ app = undefined }) {\n    this._app = app();\n\n    this._app.use(app.json());\n    this._app.use(app.urlencoded({ extended: false }));\n  }\n\n  async connect() {\n    await _mongoose2.default.connect(`mongodb://${_index2.default.mongodb.host}:${_index2.default.mongodb.port}/${_index2.default.mongodb.name}`, _index2.default.mongodb.options, connected => console.info('database connection successful'), disconnected => console.info('database disconnect sucessful'), error => console.error(error));\n  }\n\n  setMiddleware(middleware) {\n    middleware(this._app);\n  }\n\n  setRouter(endpoints) {\n    endpoints(this._app);\n  }\n\n  errorHandler() {\n    this._app.use(_errorHandler.errorHandler);\n    this._app.use(_errorHandler.apiErrorHandler);\n  }\n\n  listen() {\n    const _server = http.createServer(this._app);\n    _server.listen(_index2.default.app.port);\n    _server.on('error', error => {\n      if (error.syscall !== 'listen') {\n        throw error;\n      }\n\n      let bind = typeof port === 'string' ? `Pipe ${_index2.default.app.port}` : `Port ${_index2.default.app.port}`;\n\n      let message = undefined;\n      switch (error.code) {\n        case 'EACCES':\n          message = `${bind} requires elevated privileges`;\n          break;\n        case 'EADDRINUSE':\n          message = `${bind} is already in use`;\n          break;\n      }\n\n      if (message) {\n        console.error(message);\n        process.exit(1);\n      }\n\n      throw error;\n    });\n\n    _server.on('listening', () => {\n      const addr = _server.address();\n      const bind = typeof addr === 'string' ? `pipe ${addr}` : `port ${addr.port}`;\n\n      console.info(`server listening on ${bind}`);\n    });\n  }\n}exports.default = APPServer;\n;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC1zZXJ2ZXIuanMiXSwibmFtZXMiOlsiaHR0cCIsIkFQUFNlcnZlciIsImNvbnN0cnVjdG9yIiwiYXBwIiwidW5kZWZpbmVkIiwiX2FwcCIsInVzZSIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJjb25uZWN0IiwiZGIiLCJjb25maWciLCJtb25nb2RiIiwiaG9zdCIsInBvcnQiLCJuYW1lIiwib3B0aW9ucyIsImNvbm5lY3RlZCIsImNvbnNvbGUiLCJpbmZvIiwiZGlzY29ubmVjdGVkIiwiZXJyb3IiLCJzZXRNaWRkbGV3YXJlIiwibWlkZGxld2FyZSIsInNldFJvdXRlciIsImVuZHBvaW50cyIsImVycm9ySGFuZGxlciIsImFwaUVycm9ySGFuZGxlciIsImxpc3RlbiIsIl9zZXJ2ZXIiLCJjcmVhdGVTZXJ2ZXIiLCJvbiIsInN5c2NhbGwiLCJiaW5kIiwibWVzc2FnZSIsImNvZGUiLCJwcm9jZXNzIiwiZXhpdCIsImFkZHIiLCJhZGRyZXNzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7SUFBWUEsSTs7QUFDWjs7OztBQUVBOzs7O0FBQ0E7Ozs7OztBQU9lLE1BQU1DLFNBQU4sQ0FBZ0I7O0FBRTNCQyxjQUFZLEVBQUNDLE1BQU1DLFNBQVAsRUFBWixFQUErQjtBQUM3QixTQUFLQyxJQUFMLEdBQVlGLEtBQVo7O0FBRUEsU0FBS0UsSUFBTCxDQUFVQyxHQUFWLENBQWNILElBQUlJLElBQUosRUFBZDtBQUNBLFNBQUtGLElBQUwsQ0FBVUMsR0FBVixDQUFjSCxJQUFJSyxVQUFKLENBQWUsRUFBQ0MsVUFBVSxLQUFYLEVBQWYsQ0FBZDtBQUVEOztBQUVELFFBQU1DLE9BQU4sR0FBZ0I7QUFDZCxVQUFNQyxtQkFBR0QsT0FBSCxDQUNILGFBQVlFLGdCQUFPQyxPQUFQLENBQWVDLElBQUssSUFBR0YsZ0JBQU9DLE9BQVAsQ0FBZUUsSUFBSyxJQUFHSCxnQkFBT0MsT0FBUCxDQUFlRyxJQUFLLEVBRDNFLEVBRUpKLGdCQUFPQyxPQUFQLENBQWVJLE9BRlgsRUFHSkMsYUFBYUMsUUFBUUMsSUFBUixDQUFhLGdDQUFiLENBSFQsRUFJSkMsZ0JBQWdCRixRQUFRQyxJQUFSLENBQWEsK0JBQWIsQ0FKWixFQUtKRSxTQUFTSCxRQUFRRyxLQUFSLENBQWNBLEtBQWQsQ0FMTCxDQUFOO0FBT0Q7O0FBRURDLGdCQUFjQyxVQUFkLEVBQTBCO0FBQ3hCQSxlQUFXLEtBQUtuQixJQUFoQjtBQUNEOztBQUVEb0IsWUFBVUMsU0FBVixFQUFxQjtBQUNuQkEsY0FBVSxLQUFLckIsSUFBZjtBQUNEOztBQUVEc0IsaUJBQWU7QUFDYixTQUFLdEIsSUFBTCxDQUFVQyxHQUFWLENBQWNxQiwwQkFBZDtBQUNBLFNBQUt0QixJQUFMLENBQVVDLEdBQVYsQ0FBY3NCLDZCQUFkO0FBQ0Q7O0FBRURDLFdBQVM7QUFDUCxVQUFNQyxVQUFVOUIsS0FBSytCLFlBQUwsQ0FBa0IsS0FBSzFCLElBQXZCLENBQWhCO0FBQ0F5QixZQUFRRCxNQUFSLENBQWVqQixnQkFBT1QsR0FBUCxDQUFXWSxJQUExQjtBQUNBZSxZQUFRRSxFQUFSLENBQVcsT0FBWCxFQUFxQlYsS0FBRCxJQUFXO0FBQzdCLFVBQUlBLE1BQU1XLE9BQU4sS0FBa0IsUUFBdEIsRUFBZ0M7QUFDOUIsY0FBTVgsS0FBTjtBQUNEOztBQUVELFVBQUlZLE9BQU8sT0FBT25CLElBQVAsS0FBZ0IsUUFBaEIsR0FDTixRQUFPSCxnQkFBT1QsR0FBUCxDQUFXWSxJQUFLLEVBRGpCLEdBRU4sUUFBT0gsZ0JBQU9ULEdBQVAsQ0FBV1ksSUFBSyxFQUY1Qjs7QUFJQSxVQUFJb0IsVUFBVS9CLFNBQWQ7QUFDQSxjQUFRa0IsTUFBTWMsSUFBZDtBQUNFLGFBQUssUUFBTDtBQUNFRCxvQkFBVyxHQUFFRCxJQUFLLCtCQUFsQjtBQUNBO0FBQ0YsYUFBSyxZQUFMO0FBQ0VDLG9CQUFXLEdBQUVELElBQUssb0JBQWxCO0FBQ0E7QUFOSjs7QUFTQSxVQUFJQyxPQUFKLEVBQWE7QUFDWGhCLGdCQUFRRyxLQUFSLENBQWNhLE9BQWQ7QUFDQUUsZ0JBQVFDLElBQVIsQ0FBYSxDQUFiO0FBQ0Q7O0FBRUQsWUFBTWhCLEtBQU47QUFDRCxLQXpCRDs7QUEyQkFRLFlBQVFFLEVBQVIsQ0FBVyxXQUFYLEVBQXdCLE1BQU07QUFDNUIsWUFBTU8sT0FBT1QsUUFBUVUsT0FBUixFQUFiO0FBQ0EsWUFBTU4sT0FBTyxPQUFPSyxJQUFQLEtBQWdCLFFBQWhCLEdBQ1IsUUFBT0EsSUFBSyxFQURKLEdBRVIsUUFBT0EsS0FBS3hCLElBQUssRUFGdEI7O0FBSUFJLGNBQVFDLElBQVIsQ0FBYyx1QkFBc0JjLElBQUssRUFBekM7QUFDRCxLQVBEO0FBUUQ7QUF2RTBCLEMsa0JBQVZqQyxTO0FBd0VsQiIsImZpbGUiOiJhcHAtc2VydmVyLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvc2VydmVyIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgaHR0cCAgIGZyb20gJ2h0dHAnO1xuaW1wb3J0IGRiICAgICAgICAgIGZyb20gJ21vbmdvb3NlJztcblxuaW1wb3J0IGNvbmZpZyAgICAgICBmcm9tICcuL2NvbmZpZy9pbmRleCc7XG5pbXBvcnQge1xuICBlcnJvckhhbmRsZXIsIFxuICBhcGlFcnJvckhhbmRsZXIgXG59ICAgICAgICAgICAgICAgICAgIGZyb20gJy4vdXRpbHMvZXJyb3ItaGFuZGxlcic7XG5cblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBUFBTZXJ2ZXIge1xuICBcbiAgICBjb25zdHJ1Y3Rvcih7YXBwID0gdW5kZWZpbmVkfSkge1xuICAgICAgdGhpcy5fYXBwID0gYXBwKCk7XG5cbiAgICAgIHRoaXMuX2FwcC51c2UoYXBwLmpzb24oKSk7ICAgICAgXG4gICAgICB0aGlzLl9hcHAudXNlKGFwcC51cmxlbmNvZGVkKHtleHRlbmRlZDogZmFsc2V9KSk7XG5cbiAgICB9XG4gICAgXG4gICAgYXN5bmMgY29ubmVjdCgpIHtcbiAgICAgIGF3YWl0IGRiLmNvbm5lY3QoXG4gICAgICAgIGBtb25nb2RiOi8vJHtjb25maWcubW9uZ29kYi5ob3N0fToke2NvbmZpZy5tb25nb2RiLnBvcnR9LyR7Y29uZmlnLm1vbmdvZGIubmFtZX1gLFxuICAgICAgICBjb25maWcubW9uZ29kYi5vcHRpb25zLFxuICAgICAgICBjb25uZWN0ZWQgPT4gY29uc29sZS5pbmZvKCdkYXRhYmFzZSBjb25uZWN0aW9uIHN1Y2Nlc3NmdWwnKSxcbiAgICAgICAgZGlzY29ubmVjdGVkID0+IGNvbnNvbGUuaW5mbygnZGF0YWJhc2UgZGlzY29ubmVjdCBzdWNlc3NmdWwnKSxcbiAgICAgICAgZXJyb3IgPT4gY29uc29sZS5lcnJvcihlcnJvciksXG4gICAgICApO1xuICAgIH1cblxuICAgIHNldE1pZGRsZXdhcmUobWlkZGxld2FyZSkge1xuICAgICAgbWlkZGxld2FyZSh0aGlzLl9hcHApO1xuICAgIH1cblxuICAgIHNldFJvdXRlcihlbmRwb2ludHMpIHtcbiAgICAgIGVuZHBvaW50cyh0aGlzLl9hcHApO1xuICAgIH1cblxuICAgIGVycm9ySGFuZGxlcigpIHtcbiAgICAgIHRoaXMuX2FwcC51c2UoZXJyb3JIYW5kbGVyKTtcbiAgICAgIHRoaXMuX2FwcC51c2UoYXBpRXJyb3JIYW5kbGVyKTtcbiAgICB9XG4gIFxuICAgIGxpc3RlbigpIHtcbiAgICAgIGNvbnN0IF9zZXJ2ZXIgPSBodHRwLmNyZWF0ZVNlcnZlcih0aGlzLl9hcHApO1xuICAgICAgX3NlcnZlci5saXN0ZW4oY29uZmlnLmFwcC5wb3J0KTtcbiAgICAgIF9zZXJ2ZXIub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XG4gICAgICAgIGlmIChlcnJvci5zeXNjYWxsICE9PSAnbGlzdGVuJykge1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gIFxuICAgICAgICBsZXQgYmluZCA9IHR5cGVvZiBwb3J0ID09PSAnc3RyaW5nJyBcbiAgICAgICAgICA/IGBQaXBlICR7Y29uZmlnLmFwcC5wb3J0fWAgXG4gICAgICAgICAgOiBgUG9ydCAke2NvbmZpZy5hcHAucG9ydH1gXG4gICAgICAgIFxuICAgICAgICBsZXQgbWVzc2FnZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgc3dpdGNoIChlcnJvci5jb2RlKSB7XG4gICAgICAgICAgY2FzZSAnRUFDQ0VTJzpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgJHtiaW5kfSByZXF1aXJlcyBlbGV2YXRlZCBwcml2aWxlZ2VzYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ0VBRERSSU5VU0UnOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGAke2JpbmR9IGlzIGFscmVhZHkgaW4gdXNlYDtcbiAgICAgICAgICAgIGJyZWFrOyAgICAgICAgXG4gICAgICAgIH1cbiAgXG4gICAgICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICAgICAgICBwcm9jZXNzLmV4aXQoMSk7XG4gICAgICAgIH1cbiAgXG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIF9zZXJ2ZXIub24oJ2xpc3RlbmluZycsICgpID0+IHtcbiAgICAgICAgY29uc3QgYWRkciA9IF9zZXJ2ZXIuYWRkcmVzcygpO1xuICAgICAgICBjb25zdCBiaW5kID0gdHlwZW9mIGFkZHIgPT09ICdzdHJpbmcnIFxuICAgICAgICAgID8gYHBpcGUgJHthZGRyfWBcbiAgICAgICAgICA6IGBwb3J0ICR7YWRkci5wb3J0fWBcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUuaW5mbyhgc2VydmVyIGxpc3RlbmluZyBvbiAke2JpbmR9YCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07Il19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "app-server.js"
      ],
      "names": [
        "http",
        "APPServer",
        "constructor",
        "app",
        "undefined",
        "_app",
        "use",
        "json",
        "urlencoded",
        "extended",
        "connect",
        "db",
        "config",
        "mongodb",
        "host",
        "port",
        "name",
        "options",
        "connected",
        "console",
        "info",
        "disconnected",
        "error",
        "setMiddleware",
        "middleware",
        "setRouter",
        "endpoints",
        "errorHandler",
        "apiErrorHandler",
        "listen",
        "_server",
        "createServer",
        "on",
        "syscall",
        "bind",
        "message",
        "code",
        "process",
        "exit",
        "addr",
        "address"
      ],
      "mappings": ";;;;;;AAAA;;IAAYA,I;;AACZ;;;;AAEA;;;;AACA;;;;;;AAOe,MAAMC,SAAN,CAAgB;;AAE3BC,cAAY,EAACC,MAAMC,SAAP,EAAZ,EAA+B;AAC7B,SAAKC,IAAL,GAAYF,KAAZ;;AAEA,SAAKE,IAAL,CAAUC,GAAV,CAAcH,IAAII,IAAJ,EAAd;AACA,SAAKF,IAAL,CAAUC,GAAV,CAAcH,IAAIK,UAAJ,CAAe,EAACC,UAAU,KAAX,EAAf,CAAd;AAED;;AAED,QAAMC,OAAN,GAAgB;AACd,UAAMC,mBAAGD,OAAH,CACH,aAAYE,gBAAOC,OAAP,CAAeC,IAAK,IAAGF,gBAAOC,OAAP,CAAeE,IAAK,IAAGH,gBAAOC,OAAP,CAAeG,IAAK,EAD3E,EAEJJ,gBAAOC,OAAP,CAAeI,OAFX,EAGJC,aAAaC,QAAQC,IAAR,CAAa,gCAAb,CAHT,EAIJC,gBAAgBF,QAAQC,IAAR,CAAa,+BAAb,CAJZ,EAKJE,SAASH,QAAQG,KAAR,CAAcA,KAAd,CALL,CAAN;AAOD;;AAEDC,gBAAcC,UAAd,EAA0B;AACxBA,eAAW,KAAKnB,IAAhB;AACD;;AAEDoB,YAAUC,SAAV,EAAqB;AACnBA,cAAU,KAAKrB,IAAf;AACD;;AAEDsB,iBAAe;AACb,SAAKtB,IAAL,CAAUC,GAAV,CAAcqB,0BAAd;AACA,SAAKtB,IAAL,CAAUC,GAAV,CAAcsB,6BAAd;AACD;;AAEDC,WAAS;AACP,UAAMC,UAAU9B,KAAK+B,YAAL,CAAkB,KAAK1B,IAAvB,CAAhB;AACAyB,YAAQD,MAAR,CAAejB,gBAAOT,GAAP,CAAWY,IAA1B;AACAe,YAAQE,EAAR,CAAW,OAAX,EAAqBV,KAAD,IAAW;AAC7B,UAAIA,MAAMW,OAAN,KAAkB,QAAtB,EAAgC;AAC9B,cAAMX,KAAN;AACD;;AAED,UAAIY,OAAO,OAAOnB,IAAP,KAAgB,QAAhB,GACN,QAAOH,gBAAOT,GAAP,CAAWY,IAAK,EADjB,GAEN,QAAOH,gBAAOT,GAAP,CAAWY,IAAK,EAF5B;;AAIA,UAAIoB,UAAU/B,SAAd;AACA,cAAQkB,MAAMc,IAAd;AACE,aAAK,QAAL;AACED,oBAAW,GAAED,IAAK,+BAAlB;AACA;AACF,aAAK,YAAL;AACEC,oBAAW,GAAED,IAAK,oBAAlB;AACA;AANJ;;AASA,UAAIC,OAAJ,EAAa;AACXhB,gBAAQG,KAAR,CAAca,OAAd;AACAE,gBAAQC,IAAR,CAAa,CAAb;AACD;;AAED,YAAMhB,KAAN;AACD,KAzBD;;AA2BAQ,YAAQE,EAAR,CAAW,WAAX,EAAwB,MAAM;AAC5B,YAAMO,OAAOT,QAAQU,OAAR,EAAb;AACA,YAAMN,OAAO,OAAOK,IAAP,KAAgB,QAAhB,GACR,QAAOA,IAAK,EADJ,GAER,QAAOA,KAAKxB,IAAK,EAFtB;;AAIAI,cAAQC,IAAR,CAAc,uBAAsBc,IAAK,EAAzC;AACD,KAPD;AAQD;AAvE0B,C,kBAAVjC,S;AAwElB",
      "file": "app-server.js",
      "sourceRoot": "/app/server",
      "sourcesContent": [
        "import * as http   from 'http';\nimport db          from 'mongoose';\n\nimport config       from './config/index';\nimport {\n  errorHandler, \n  apiErrorHandler \n}                   from './utils/error-handler';\n\n\n\nexport default class APPServer {\n  \n    constructor({app = undefined}) {\n      this._app = app();\n\n      this._app.use(app.json());      \n      this._app.use(app.urlencoded({extended: false}));\n\n    }\n    \n    async connect() {\n      await db.connect(\n        `mongodb://${config.mongodb.host}:${config.mongodb.port}/${config.mongodb.name}`,\n        config.mongodb.options,\n        connected => console.info('database connection successful'),\n        disconnected => console.info('database disconnect sucessful'),\n        error => console.error(error),\n      );\n    }\n\n    setMiddleware(middleware) {\n      middleware(this._app);\n    }\n\n    setRouter(endpoints) {\n      endpoints(this._app);\n    }\n\n    errorHandler() {\n      this._app.use(errorHandler);\n      this._app.use(apiErrorHandler);\n    }\n  \n    listen() {\n      const _server = http.createServer(this._app);\n      _server.listen(config.app.port);\n      _server.on('error', (error) => {\n        if (error.syscall !== 'listen') {\n          throw error;\n        }\n  \n        let bind = typeof port === 'string' \n          ? `Pipe ${config.app.port}` \n          : `Port ${config.app.port}`\n        \n        let message = undefined;\n        switch (error.code) {\n          case 'EACCES':\n            message = `${bind} requires elevated privileges`;\n            break;\n          case 'EADDRINUSE':\n            message = `${bind} is already in use`;\n            break;        \n        }\n  \n        if (message) {\n          console.error(message);\n          process.exit(1);\n        }\n  \n        throw error;\n      });\n      \n      _server.on('listening', () => {\n        const addr = _server.address();\n        const bind = typeof addr === 'string' \n          ? `pipe ${addr}`\n          : `port ${addr.port}`\n        \n        console.info(`server listening on ${bind}`);\n      });\n    }\n  };"
      ]
    },
    "mtime": 1692227615665
  },
  "{\"filename\":\"/app/server/views/user/router.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/server/views/user\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.3": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "express"
              }
            ]
          },
          {
            "source": ".",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "UserView"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/server/views/user/router.js",
      "filenameRelative": "/app/server/views/user/router.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "router.js",
      "sourceFileName": "router.js",
      "sourceRoot": "/app/server/views/user",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/server/views/user",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "router"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _ = require('.');\n\nvar _2 = _interopRequireDefault(_);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express2.default.Router();\n\nrouter.get('/:id', (request, response, next) => {\n  const user = new _2.default(request.params.id);\n\n  response.send(user);\n});\n\nrouter.post('/', (request, response, next) => {\n  const user = new _2.default({ next: next });\n\n  response.send(user.insert(request.body));\n});\n\nrouter.put('/:id', (request, response, next) => {\n  response.send('put');\n});\n\nrouter.delete('/:id', (request, response, next) => {\n  response.send('delete');\n});\n\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvdXRlci5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwicmVxdWVzdCIsInJlc3BvbnNlIiwibmV4dCIsInVzZXIiLCJVc2VyVmlldyIsInBhcmFtcyIsImlkIiwic2VuZCIsInBvc3QiLCJpbnNlcnQiLCJib2R5IiwicHV0IiwiZGVsZXRlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7OztBQUVBOzs7Ozs7QUFHQSxNQUFNQSxTQUFTQyxrQkFBUUMsTUFBUixFQUFmOztBQUVBRixPQUFPRyxHQUFQLENBQVcsTUFBWCxFQUFtQixDQUFDQyxPQUFELEVBQVVDLFFBQVYsRUFBb0JDLElBQXBCLEtBQTZCO0FBQzlDLFFBQU1DLE9BQU8sSUFBSUMsVUFBSixDQUFhSixRQUFRSyxNQUFSLENBQWVDLEVBQTVCLENBQWI7O0FBRUFMLFdBQVNNLElBQVQsQ0FBY0osSUFBZDtBQUNELENBSkQ7O0FBTUFQLE9BQU9ZLElBQVAsQ0FBWSxHQUFaLEVBQWlCLENBQUNSLE9BQUQsRUFBVUMsUUFBVixFQUFvQkMsSUFBcEIsS0FBNkI7QUFDNUMsUUFBTUMsT0FBTyxJQUFJQyxVQUFKLENBQWEsRUFBQ0YsTUFBTUEsSUFBUCxFQUFiLENBQWI7O0FBRUFELFdBQVNNLElBQVQsQ0FBY0osS0FBS00sTUFBTCxDQUFZVCxRQUFRVSxJQUFwQixDQUFkO0FBQ0QsQ0FKRDs7QUFNQWQsT0FBT2UsR0FBUCxDQUFXLE1BQVgsRUFBbUIsQ0FBQ1gsT0FBRCxFQUFVQyxRQUFWLEVBQW9CQyxJQUFwQixLQUE2QjtBQUM1Q0QsV0FBU00sSUFBVCxDQUFjLEtBQWQ7QUFDSCxDQUZEOztBQUlBWCxPQUFPZ0IsTUFBUCxDQUFjLE1BQWQsRUFBc0IsQ0FBQ1osT0FBRCxFQUFVQyxRQUFWLEVBQW9CQyxJQUFwQixLQUE2QjtBQUMvQ0QsV0FBU00sSUFBVCxDQUFjLFFBQWQ7QUFDSCxDQUZEOztBQUlBTSxPQUFPQyxPQUFQLEdBQWlCbEIsTUFBakIiLCJmaWxlIjoicm91dGVyLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvc2VydmVyL3ZpZXdzL3VzZXIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcblxuaW1wb3J0IFVzZXJWaWV3IGZyb20gJy4nO1xuXG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnJvdXRlci5nZXQoJy86aWQnLCAocmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpID0+IHtcbiAgY29uc3QgdXNlciA9IG5ldyBVc2VyVmlldyhyZXF1ZXN0LnBhcmFtcy5pZCk7XG5cbiAgcmVzcG9uc2Uuc2VuZCh1c2VyKTtcbn0pO1xuXG5yb3V0ZXIucG9zdCgnLycsIChyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCkgPT4ge1xuICBjb25zdCB1c2VyID0gbmV3IFVzZXJWaWV3KHtuZXh0OiBuZXh0fSk7XG4gIFxuICByZXNwb25zZS5zZW5kKHVzZXIuaW5zZXJ0KHJlcXVlc3QuYm9keSkpO1xufSk7XG5cbnJvdXRlci5wdXQoJy86aWQnLCAocmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpID0+IHtcbiAgICByZXNwb25zZS5zZW5kKCdwdXQnKTtcbn0pO1xuXG5yb3V0ZXIuZGVsZXRlKCcvOmlkJywgKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSA9PiB7XG4gICAgcmVzcG9uc2Uuc2VuZCgnZGVsZXRlJyk7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "router.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "get",
        "request",
        "response",
        "next",
        "user",
        "UserView",
        "params",
        "id",
        "send",
        "post",
        "insert",
        "body",
        "put",
        "delete",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA;;;;AAEA;;;;;;AAGA,MAAMA,SAASC,kBAAQC,MAAR,EAAf;;AAEAF,OAAOG,GAAP,CAAW,MAAX,EAAmB,CAACC,OAAD,EAAUC,QAAV,EAAoBC,IAApB,KAA6B;AAC9C,QAAMC,OAAO,IAAIC,UAAJ,CAAaJ,QAAQK,MAAR,CAAeC,EAA5B,CAAb;;AAEAL,WAASM,IAAT,CAAcJ,IAAd;AACD,CAJD;;AAMAP,OAAOY,IAAP,CAAY,GAAZ,EAAiB,CAACR,OAAD,EAAUC,QAAV,EAAoBC,IAApB,KAA6B;AAC5C,QAAMC,OAAO,IAAIC,UAAJ,CAAa,EAACF,MAAMA,IAAP,EAAb,CAAb;;AAEAD,WAASM,IAAT,CAAcJ,KAAKM,MAAL,CAAYT,QAAQU,IAApB,CAAd;AACD,CAJD;;AAMAd,OAAOe,GAAP,CAAW,MAAX,EAAmB,CAACX,OAAD,EAAUC,QAAV,EAAoBC,IAApB,KAA6B;AAC5CD,WAASM,IAAT,CAAc,KAAd;AACH,CAFD;;AAIAX,OAAOgB,MAAP,CAAc,MAAd,EAAsB,CAACZ,OAAD,EAAUC,QAAV,EAAoBC,IAApB,KAA6B;AAC/CD,WAASM,IAAT,CAAc,QAAd;AACH,CAFD;;AAIAM,OAAOC,OAAP,GAAiBlB,MAAjB",
      "file": "router.js",
      "sourceRoot": "/app/server/views/user",
      "sourcesContent": [
        "import express from 'express';\n\nimport UserView from '.';\n\n\nconst router = express.Router();\n\nrouter.get('/:id', (request, response, next) => {\n  const user = new UserView(request.params.id);\n\n  response.send(user);\n});\n\nrouter.post('/', (request, response, next) => {\n  const user = new UserView({next: next});\n  \n  response.send(user.insert(request.body));\n});\n\nrouter.put('/:id', (request, response, next) => {\n    response.send('put');\n});\n\nrouter.delete('/:id', (request, response, next) => {\n    response.send('delete');\n});\n\nmodule.exports = router;"
      ]
    },
    "mtime": 1691733905519
  },
  "{\"filename\":\"/app/server/views/users/router.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/server/views/users\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.3": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "express"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/server/views/users/router.js",
      "filenameRelative": "/app/server/views/users/router.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "router.js",
      "sourceFileName": "router.js",
      "sourceRoot": "/app/server/views/users",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/server/views/users",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "router"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express2.default.Router();\n\nrouter.get('/', (request, response, next) => {\n  response.send({});\n});\n\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvdXRlci5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwicmVxdWVzdCIsInJlc3BvbnNlIiwibmV4dCIsInNlbmQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7Ozs7QUFFQSxNQUFNQSxTQUFTQyxrQkFBUUMsTUFBUixFQUFmOztBQUVBRixPQUFPRyxHQUFQLENBQVcsR0FBWCxFQUFnQixDQUFDQyxPQUFELEVBQVVDLFFBQVYsRUFBb0JDLElBQXBCLEtBQTZCO0FBQzNDRCxXQUFTRSxJQUFULENBQWMsRUFBZDtBQUNELENBRkQ7O0FBS0FDLE9BQU9DLE9BQVAsR0FBaUJULE1BQWpCIiwiZmlsZSI6InJvdXRlci5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL3NlcnZlci92aWV3cy91c2VycyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5yb3V0ZXIuZ2V0KCcvJywgKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSA9PiB7XG4gIHJlc3BvbnNlLnNlbmQoe30pO1xufSk7XG5cblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "router.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "get",
        "request",
        "response",
        "next",
        "send",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA;;;;;;AAEA,MAAMA,SAASC,kBAAQC,MAAR,EAAf;;AAEAF,OAAOG,GAAP,CAAW,GAAX,EAAgB,CAACC,OAAD,EAAUC,QAAV,EAAoBC,IAApB,KAA6B;AAC3CD,WAASE,IAAT,CAAc,EAAd;AACD,CAFD;;AAKAC,OAAOC,OAAP,GAAiBT,MAAjB",
      "file": "router.js",
      "sourceRoot": "/app/server/views/users",
      "sourcesContent": [
        "import express from 'express';\n\nconst router = express.Router();\n\nrouter.get('/', (request, response, next) => {\n  response.send({});\n});\n\n\nmodule.exports = router;"
      ]
    },
    "mtime": 1691391311756
  },
  "{\"filename\":\"/app/server/controllers/user/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/server/controllers/user\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.3": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "../../models/user",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "User"
              }
            ]
          },
          {
            "source": "../default",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "DefaultController"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/server/controllers/user/index.js",
      "filenameRelative": "/app/server/controllers/user/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/app/server/controllers/user",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/server/controllers/user",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "\"use strict\";\n\nvar _user = require(\"../../models/user\");\n\nvar _user2 = _interopRequireDefault(_user);\n\nvar _default = require(\"../default\");\n\nvar _default2 = _interopRequireDefault(_default);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass UserController extends _default2.default {\n  constructor({ username = undefined, email = undefined, values = {} }) {\n    super({ model: new _user2.default() });\n\n    this.username = username;\n    this.email = email;\n\n    this.query = {};\n    if (this.username) this.query.username = this.username;\n    if (this.email) this.query.email = this.email;\n\n    this.values = values;\n  }\n};\n\nclass UsersController extends UserController {\n  constructor({ query = {}, page = 1, limit = 10 }) {\n    super({});\n\n    this.query = query;\n    this.page = page;\n    this.limit = limit;\n  }\n};\n\nmodule.exports = {\n  UserController,\n  UsersController\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIlVzZXJDb250cm9sbGVyIiwiRGVmYXVsdENvbnRyb2xsZXIiLCJjb25zdHJ1Y3RvciIsInVzZXJuYW1lIiwidW5kZWZpbmVkIiwiZW1haWwiLCJ2YWx1ZXMiLCJtb2RlbCIsIlVzZXIiLCJxdWVyeSIsIlVzZXJzQ29udHJvbGxlciIsInBhZ2UiLCJsaW1pdCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7QUFDQTs7Ozs7O0FBR0EsTUFBTUEsY0FBTixTQUE2QkMsaUJBQTdCLENBQStDO0FBQzdDQyxjQUFZLEVBQUNDLFdBQVdDLFNBQVosRUFBdUJDLFFBQVFELFNBQS9CLEVBQTBDRSxTQUFTLEVBQW5ELEVBQVosRUFBb0U7QUFDbEUsVUFBTSxFQUFDQyxPQUFPLElBQUlDLGNBQUosRUFBUixFQUFOOztBQUVBLFNBQUtMLFFBQUwsR0FBZ0JBLFFBQWhCO0FBQ0EsU0FBS0UsS0FBTCxHQUFnQkEsS0FBaEI7O0FBRUEsU0FBS0ksS0FBTCxHQUFhLEVBQWI7QUFDQSxRQUFJLEtBQUtOLFFBQVQsRUFBbUIsS0FBS00sS0FBTCxDQUFXTixRQUFYLEdBQXNCLEtBQUtBLFFBQTNCO0FBQ25CLFFBQUksS0FBS0UsS0FBVCxFQUFtQixLQUFLSSxLQUFMLENBQVdKLEtBQVgsR0FBc0IsS0FBS0EsS0FBM0I7O0FBRW5CLFNBQUtDLE1BQUwsR0FBY0EsTUFBZDtBQUNEO0FBWjRDLENBYTlDOztBQUVELE1BQU1JLGVBQU4sU0FBOEJWLGNBQTlCLENBQTZDO0FBQzNDRSxjQUFZLEVBQUNPLFFBQVEsRUFBVCxFQUFhRSxPQUFPLENBQXBCLEVBQXVCQyxRQUFRLEVBQS9CLEVBQVosRUFBZ0Q7QUFDOUMsVUFBTSxFQUFOOztBQUVBLFNBQUtILEtBQUwsR0FBYUEsS0FBYjtBQUNBLFNBQUtFLElBQUwsR0FBYUEsSUFBYjtBQUNBLFNBQUtDLEtBQUwsR0FBYUEsS0FBYjtBQUNEO0FBUDBDLENBUTVDOztBQUVEQyxPQUFPQyxPQUFQLEdBQWlCO0FBQ2ZkLGdCQURlO0FBRWZVO0FBRmUsQ0FBakIiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2FwcC9zZXJ2ZXIvY29udHJvbGxlcnMvdXNlciIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVc2VyIGZyb20gXCIuLi8uLi9tb2RlbHMvdXNlclwiO1xuaW1wb3J0IERlZmF1bHRDb250cm9sbGVyIGZyb20gXCIuLi9kZWZhdWx0XCI7XG5cblxuY2xhc3MgVXNlckNvbnRyb2xsZXIgZXh0ZW5kcyBEZWZhdWx0Q29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKHt1c2VybmFtZSA9IHVuZGVmaW5lZCwgZW1haWwgPSB1bmRlZmluZWQsIHZhbHVlcyA9IHt9fSkge1xuICAgIHN1cGVyKHttb2RlbDogbmV3IFVzZXIoKX0pO1xuICAgIFxuICAgIHRoaXMudXNlcm5hbWUgPSB1c2VybmFtZTtcbiAgICB0aGlzLmVtYWlsICAgID0gZW1haWw7XG5cbiAgICB0aGlzLnF1ZXJ5ID0ge307XG4gICAgaWYgKHRoaXMudXNlcm5hbWUpIHRoaXMucXVlcnkudXNlcm5hbWUgPSB0aGlzLnVzZXJuYW1lO1xuICAgIGlmICh0aGlzLmVtYWlsKSAgICB0aGlzLnF1ZXJ5LmVtYWlsICAgID0gdGhpcy5lbWFpbDtcblxuICAgIHRoaXMudmFsdWVzID0gdmFsdWVzO1xuICB9XG59O1xuXG5jbGFzcyBVc2Vyc0NvbnRyb2xsZXIgZXh0ZW5kcyBVc2VyQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKHtxdWVyeSA9IHt9LCBwYWdlID0gMSwgbGltaXQgPSAxMH0pIHtcbiAgICBzdXBlcih7fSk7XG5cbiAgICB0aGlzLnF1ZXJ5ID0gcXVlcnk7XG4gICAgdGhpcy5wYWdlICA9IHBhZ2U7XG4gICAgdGhpcy5saW1pdCA9IGxpbWl0O1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgVXNlckNvbnRyb2xsZXIsXG4gIFVzZXJzQ29udHJvbGxlclxufTsiXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "UserController",
        "DefaultController",
        "constructor",
        "username",
        "undefined",
        "email",
        "values",
        "model",
        "User",
        "query",
        "UsersController",
        "page",
        "limit",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA;;;;AACA;;;;;;AAGA,MAAMA,cAAN,SAA6BC,iBAA7B,CAA+C;AAC7CC,cAAY,EAACC,WAAWC,SAAZ,EAAuBC,QAAQD,SAA/B,EAA0CE,SAAS,EAAnD,EAAZ,EAAoE;AAClE,UAAM,EAACC,OAAO,IAAIC,cAAJ,EAAR,EAAN;;AAEA,SAAKL,QAAL,GAAgBA,QAAhB;AACA,SAAKE,KAAL,GAAgBA,KAAhB;;AAEA,SAAKI,KAAL,GAAa,EAAb;AACA,QAAI,KAAKN,QAAT,EAAmB,KAAKM,KAAL,CAAWN,QAAX,GAAsB,KAAKA,QAA3B;AACnB,QAAI,KAAKE,KAAT,EAAmB,KAAKI,KAAL,CAAWJ,KAAX,GAAsB,KAAKA,KAA3B;;AAEnB,SAAKC,MAAL,GAAcA,MAAd;AACD;AAZ4C,CAa9C;;AAED,MAAMI,eAAN,SAA8BV,cAA9B,CAA6C;AAC3CE,cAAY,EAACO,QAAQ,EAAT,EAAaE,OAAO,CAApB,EAAuBC,QAAQ,EAA/B,EAAZ,EAAgD;AAC9C,UAAM,EAAN;;AAEA,SAAKH,KAAL,GAAaA,KAAb;AACA,SAAKE,IAAL,GAAaA,IAAb;AACA,SAAKC,KAAL,GAAaA,KAAb;AACD;AAP0C,CAQ5C;;AAEDC,OAAOC,OAAP,GAAiB;AACfd,gBADe;AAEfU;AAFe,CAAjB",
      "file": "index.js",
      "sourceRoot": "/app/server/controllers/user",
      "sourcesContent": [
        "import User from \"../../models/user\";\nimport DefaultController from \"../default\";\n\n\nclass UserController extends DefaultController {\n  constructor({username = undefined, email = undefined, values = {}}) {\n    super({model: new User()});\n    \n    this.username = username;\n    this.email    = email;\n\n    this.query = {};\n    if (this.username) this.query.username = this.username;\n    if (this.email)    this.query.email    = this.email;\n\n    this.values = values;\n  }\n};\n\nclass UsersController extends UserController {\n  constructor({query = {}, page = 1, limit = 10}) {\n    super({});\n\n    this.query = query;\n    this.page  = page;\n    this.limit = limit;\n  }\n};\n\nmodule.exports = {\n  UserController,\n  UsersController\n};"
      ]
    },
    "mtime": 1692140398317
  },
  "{\"filename\":\"/app/server/controllers/default.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/server/controllers\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.3": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "mongoose",
            "imported": [
              "Types"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Types",
                "local": "Types"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "DefaultController"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "DefaultController",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/server/controllers/default.js",
      "filenameRelative": "/app/server/controllers/default.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "default.js",
      "sourceFileName": "default.js",
      "sourceRoot": "/app/server/controllers",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/server/controllers",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "default"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mongoose = require('mongoose');\n\nclass DefaultController {\n  constructor({ model: model }) {\n    this.model = model;\n    this._types = _mongoose.Types;\n\n    if (typeof this.page === 'undefined') this.page = 0;\n    if (typeof this.limit === 'undefined') this.limit = 0;\n  }\n\n  async select() {\n    return await this.model.select(this.query);\n  }\n\n  async find() {\n    return await this.model.find({\n      query: this.query,\n      page: this.page,\n      limit: this.limit\n    });\n  }\n\n  async save() {\n    return await this.model.save(this.values);\n  }\n\n  async update() {\n    return await this.model.update(this.query, this.values);\n  }\n}exports.default = DefaultController;\n;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlZmF1bHQuanMiXSwibmFtZXMiOlsiRGVmYXVsdENvbnRyb2xsZXIiLCJjb25zdHJ1Y3RvciIsIm1vZGVsIiwiX3R5cGVzIiwiVHlwZXMiLCJwYWdlIiwibGltaXQiLCJzZWxlY3QiLCJxdWVyeSIsImZpbmQiLCJzYXZlIiwidmFsdWVzIiwidXBkYXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7QUFHZSxNQUFNQSxpQkFBTixDQUF3QjtBQUNyQ0MsY0FBWSxFQUFDQyxPQUFPQSxLQUFSLEVBQVosRUFBNEI7QUFDMUIsU0FBS0EsS0FBTCxHQUFjQSxLQUFkO0FBQ0EsU0FBS0MsTUFBTCxHQUFjQyxlQUFkOztBQUVBLFFBQUksT0FBTyxLQUFLQyxJQUFaLEtBQXNCLFdBQTFCLEVBQXdDLEtBQUtBLElBQUwsR0FBWSxDQUFaO0FBQ3hDLFFBQUksT0FBTyxLQUFLQyxLQUFaLEtBQXNCLFdBQTFCLEVBQXdDLEtBQUtBLEtBQUwsR0FBYSxDQUFiO0FBQ3pDOztBQUVELFFBQU1DLE1BQU4sR0FBZTtBQUNiLFdBQU8sTUFBTSxLQUFLTCxLQUFMLENBQVdLLE1BQVgsQ0FBa0IsS0FBS0MsS0FBdkIsQ0FBYjtBQUNEOztBQUVELFFBQU1DLElBQU4sR0FBYTtBQUNYLFdBQU8sTUFBTSxLQUFLUCxLQUFMLENBQVdPLElBQVgsQ0FBZ0I7QUFDM0JELGFBQU8sS0FBS0EsS0FEZTtBQUUzQkgsWUFBTyxLQUFLQSxJQUZlO0FBRzNCQyxhQUFPLEtBQUtBO0FBSGUsS0FBaEIsQ0FBYjtBQUtEOztBQUVELFFBQU1JLElBQU4sR0FBYTtBQUNYLFdBQU8sTUFBTSxLQUFLUixLQUFMLENBQVdRLElBQVgsQ0FBZ0IsS0FBS0MsTUFBckIsQ0FBYjtBQUNEOztBQUVELFFBQU1DLE1BQU4sR0FBZTtBQUNiLFdBQU8sTUFBTSxLQUFLVixLQUFMLENBQVdVLE1BQVgsQ0FBa0IsS0FBS0osS0FBdkIsRUFBOEIsS0FBS0csTUFBbkMsQ0FBYjtBQUNEO0FBM0JvQyxDLGtCQUFsQlgsaUI7QUE0QnBCIiwiZmlsZSI6ImRlZmF1bHQuanMiLCJzb3VyY2VSb290IjoiL2FwcC9zZXJ2ZXIvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUeXBlcyB9IGZyb20gXCJtb25nb29zZVwiO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERlZmF1bHRDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3Ioe21vZGVsOiBtb2RlbH0pIHtcbiAgICB0aGlzLm1vZGVsICA9IG1vZGVsO1xuICAgIHRoaXMuX3R5cGVzID0gVHlwZXM7XG5cbiAgICBpZiAodHlwZW9mIHRoaXMucGFnZSAgPT09ICd1bmRlZmluZWQnKSAgdGhpcy5wYWdlID0gMDtcbiAgICBpZiAodHlwZW9mIHRoaXMubGltaXQgPT09ICd1bmRlZmluZWQnKSAgdGhpcy5saW1pdCA9IDA7XG4gIH1cblxuICBhc3luYyBzZWxlY3QoKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMubW9kZWwuc2VsZWN0KHRoaXMucXVlcnkpO1xuICB9XG5cbiAgYXN5bmMgZmluZCgpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5tb2RlbC5maW5kKHtcbiAgICAgIHF1ZXJ5OiB0aGlzLnF1ZXJ5LCBcbiAgICAgIHBhZ2UgOiB0aGlzLnBhZ2UsIFxuICAgICAgbGltaXQ6IHRoaXMubGltaXRcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIHNhdmUoKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMubW9kZWwuc2F2ZSh0aGlzLnZhbHVlcyk7XG4gIH1cblxuICBhc3luYyB1cGRhdGUoKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMubW9kZWwudXBkYXRlKHRoaXMucXVlcnksIHRoaXMudmFsdWVzKTtcbiAgfVxufTsiXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "default.js"
      ],
      "names": [
        "DefaultController",
        "constructor",
        "model",
        "_types",
        "Types",
        "page",
        "limit",
        "select",
        "query",
        "find",
        "save",
        "values",
        "update"
      ],
      "mappings": ";;;;;;AAAA;;AAGe,MAAMA,iBAAN,CAAwB;AACrCC,cAAY,EAACC,OAAOA,KAAR,EAAZ,EAA4B;AAC1B,SAAKA,KAAL,GAAcA,KAAd;AACA,SAAKC,MAAL,GAAcC,eAAd;;AAEA,QAAI,OAAO,KAAKC,IAAZ,KAAsB,WAA1B,EAAwC,KAAKA,IAAL,GAAY,CAAZ;AACxC,QAAI,OAAO,KAAKC,KAAZ,KAAsB,WAA1B,EAAwC,KAAKA,KAAL,GAAa,CAAb;AACzC;;AAED,QAAMC,MAAN,GAAe;AACb,WAAO,MAAM,KAAKL,KAAL,CAAWK,MAAX,CAAkB,KAAKC,KAAvB,CAAb;AACD;;AAED,QAAMC,IAAN,GAAa;AACX,WAAO,MAAM,KAAKP,KAAL,CAAWO,IAAX,CAAgB;AAC3BD,aAAO,KAAKA,KADe;AAE3BH,YAAO,KAAKA,IAFe;AAG3BC,aAAO,KAAKA;AAHe,KAAhB,CAAb;AAKD;;AAED,QAAMI,IAAN,GAAa;AACX,WAAO,MAAM,KAAKR,KAAL,CAAWQ,IAAX,CAAgB,KAAKC,MAArB,CAAb;AACD;;AAED,QAAMC,MAAN,GAAe;AACb,WAAO,MAAM,KAAKV,KAAL,CAAWU,MAAX,CAAkB,KAAKJ,KAAvB,EAA8B,KAAKG,MAAnC,CAAb;AACD;AA3BoC,C,kBAAlBX,iB;AA4BpB",
      "file": "default.js",
      "sourceRoot": "/app/server/controllers",
      "sourcesContent": [
        "import { Types } from \"mongoose\";\n\n\nexport default class DefaultController {\n  constructor({model: model}) {\n    this.model  = model;\n    this._types = Types;\n\n    if (typeof this.page  === 'undefined')  this.page = 0;\n    if (typeof this.limit === 'undefined')  this.limit = 0;\n  }\n\n  async select() {\n    return await this.model.select(this.query);\n  }\n\n  async find() {\n    return await this.model.find({\n      query: this.query, \n      page : this.page, \n      limit: this.limit\n    });\n  }\n\n  async save() {\n    return await this.model.save(this.values);\n  }\n\n  async update() {\n    return await this.model.update(this.query, this.values);\n  }\n};"
      ]
    },
    "mtime": 1692005884257
  },
  "{\"filename\":\"/app/server/views/user/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/server/views/user\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.3": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "../default",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "DefaultView"
              }
            ]
          },
          {
            "source": "../../controllers/user",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "UserController"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "UserView"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "UserView",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/server/views/user/index.js",
      "filenameRelative": "/app/server/views/user/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/app/server/views/user",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/server/views/user",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _default = require('../default');\n\nvar _default2 = _interopRequireDefault(_default);\n\nvar _user = require('../../controllers/user');\n\nvar _user2 = _interopRequireDefault(_user);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass UserView extends _default2.default {\n  constructor(userId) {\n    super(new _user2.default(userId));\n  }\n}\nexports.default = UserView;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIlVzZXJWaWV3IiwiRGVmYXVsdFZpZXciLCJjb25zdHJ1Y3RvciIsInVzZXJJZCIsIlVzZXJDb250cm9sbGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztBQUNBOzs7Ozs7QUFHZSxNQUFNQSxRQUFOLFNBQXVCQyxpQkFBdkIsQ0FBbUM7QUFDakRDLGNBQVlDLE1BQVosRUFBb0I7QUFDakIsVUFBTSxJQUFJQyxjQUFKLENBQW1CRCxNQUFuQixDQUFOO0FBQ0Q7QUFIK0M7a0JBQTdCSCxRIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlUm9vdCI6Ii9hcHAvc2VydmVyL3ZpZXdzL3VzZXIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRGVmYXVsdFZpZXcgZnJvbSAnLi4vZGVmYXVsdCc7XG5pbXBvcnQgVXNlckNvbnRyb2xsZXIgZnJvbSAnLi4vLi4vY29udHJvbGxlcnMvdXNlcic7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlclZpZXcgZXh0ZW5kcyBEZWZhdWx0VmlldyB7XG5cdGNvbnN0cnVjdG9yKHVzZXJJZCkge1xuICAgIHN1cGVyKG5ldyBVc2VyQ29udHJvbGxlcih1c2VySWQpKTtcbiAgfVxufSJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "UserView",
        "DefaultView",
        "constructor",
        "userId",
        "UserController"
      ],
      "mappings": ";;;;;;AAAA;;;;AACA;;;;;;AAGe,MAAMA,QAAN,SAAuBC,iBAAvB,CAAmC;AACjDC,cAAYC,MAAZ,EAAoB;AACjB,UAAM,IAAIC,cAAJ,CAAmBD,MAAnB,CAAN;AACD;AAH+C;kBAA7BH,Q",
      "file": "index.js",
      "sourceRoot": "/app/server/views/user",
      "sourcesContent": [
        "import DefaultView from '../default';\nimport UserController from '../../controllers/user';\n\n\nexport default class UserView extends DefaultView {\n\tconstructor(userId) {\n    super(new UserController(userId));\n  }\n}"
      ]
    },
    "mtime": 1691682125540
  },
  "{\"filename\":\"/app/server/views/default.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/server/views\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.3": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [
            "DefaultView"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "DefaultView",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/server/views/default.js",
      "filenameRelative": "/app/server/views/default.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "default.js",
      "sourceFileName": "default.js",
      "sourceRoot": "/app/server/views",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/server/views",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "default"
    },
    "ignored": false,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nclass DefaultView {\n  constructor(controller) {\n    this.controller = controller;\n  }\n\n  select(_id) {\n    return this.controller.select(_id);\n  }\n\n  insert(body) {\n    return this.controller.insert(body);\n  }\n}exports.default = DefaultView;\n;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlZmF1bHQuanMiXSwibmFtZXMiOlsiRGVmYXVsdFZpZXciLCJjb25zdHJ1Y3RvciIsImNvbnRyb2xsZXIiLCJzZWxlY3QiLCJfaWQiLCJpbnNlcnQiLCJib2R5Il0sIm1hcHBpbmdzIjoiOzs7OztBQUNlLE1BQU1BLFdBQU4sQ0FBa0I7QUFDL0JDLGNBQVlDLFVBQVosRUFBd0I7QUFDdEIsU0FBS0EsVUFBTCxHQUFrQkEsVUFBbEI7QUFDRDs7QUFFREMsU0FBT0MsR0FBUCxFQUFZO0FBQ1YsV0FBTyxLQUFLRixVQUFMLENBQWdCQyxNQUFoQixDQUF1QkMsR0FBdkIsQ0FBUDtBQUNEOztBQUVEQyxTQUFPQyxJQUFQLEVBQWE7QUFDWCxXQUFPLEtBQUtKLFVBQUwsQ0FBZ0JHLE1BQWhCLENBQXVCQyxJQUF2QixDQUFQO0FBQ0Q7QUFYOEIsQyxrQkFBWk4sVztBQVlwQiIsImZpbGUiOiJkZWZhdWx0LmpzIiwic291cmNlUm9vdCI6Ii9hcHAvc2VydmVyL3ZpZXdzIiwic291cmNlc0NvbnRlbnQiOlsiXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZWZhdWx0VmlldyB7XG4gIGNvbnN0cnVjdG9yKGNvbnRyb2xsZXIpIHtcbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICB9XG5cbiAgc2VsZWN0KF9pZCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXIuc2VsZWN0KF9pZCk7XG4gIH1cblxuICBpbnNlcnQoYm9keSkge1xuICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXIuaW5zZXJ0KGJvZHkpO1xuICB9XG59OyJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "default.js"
      ],
      "names": [
        "DefaultView",
        "constructor",
        "controller",
        "select",
        "_id",
        "insert",
        "body"
      ],
      "mappings": ";;;;;AACe,MAAMA,WAAN,CAAkB;AAC/BC,cAAYC,UAAZ,EAAwB;AACtB,SAAKA,UAAL,GAAkBA,UAAlB;AACD;;AAEDC,SAAOC,GAAP,EAAY;AACV,WAAO,KAAKF,UAAL,CAAgBC,MAAhB,CAAuBC,GAAvB,CAAP;AACD;;AAEDC,SAAOC,IAAP,EAAa;AACX,WAAO,KAAKJ,UAAL,CAAgBG,MAAhB,CAAuBC,IAAvB,CAAP;AACD;AAX8B,C,kBAAZN,W;AAYpB",
      "file": "default.js",
      "sourceRoot": "/app/server/views",
      "sourcesContent": [
        "\nexport default class DefaultView {\n  constructor(controller) {\n    this.controller = controller;\n  }\n\n  select(_id) {\n    return this.controller.select(_id);\n  }\n\n  insert(body) {\n    return this.controller.insert(body);\n  }\n};"
      ]
    },
    "mtime": 1691682336678
  },
  "{\"filename\":\"/app/server/utils/error-handler.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/server/utils\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.3": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [
            "errorHandler",
            "apiErrorHandler"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "errorHandler",
              "exported": "errorHandler"
            },
            {
              "kind": "local",
              "local": "apiErrorHandler",
              "exported": "apiErrorHandler"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/server/utils/error-handler.js",
      "filenameRelative": "/app/server/utils/error-handler.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "error-handler.js",
      "sourceFileName": "error-handler.js",
      "sourceRoot": "/app/server/utils",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/server/utils",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "error-handler"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst errorHandler = (error, request, response, next) => {\n\n  console.log(error);\n\n  let result = undefined;\n\n  if (typeof error === 'object' && error.name === 'MongoError') {\n    if (error.code === 11000) {\n      let msg = [];\n      for (let key in error.keyValue) {\n        msg.push(`${key} '${error.keyValue[key]}' already exists`);\n      }\n\n      result = { status: 409, message: msg.join(',') };\n    }\n  }\n\n  next(result ? result : error);\n};\n\nconst apiErrorHandler = (error, request, response, next) => {\n  response.locals.message = error.message;\n  response.locals.error = error;\n\n  error.status = error.status || 500;\n  response.status(error.status || 500).send(error);\n};\n\nexports.errorHandler = errorHandler;\nexports.apiErrorHandler = apiErrorHandler;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVycm9yLWhhbmRsZXIuanMiXSwibmFtZXMiOlsiZXJyb3JIYW5kbGVyIiwiZXJyb3IiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJuZXh0IiwiY29uc29sZSIsImxvZyIsInJlc3VsdCIsInVuZGVmaW5lZCIsIm5hbWUiLCJjb2RlIiwibXNnIiwia2V5Iiwia2V5VmFsdWUiLCJwdXNoIiwic3RhdHVzIiwibWVzc2FnZSIsImpvaW4iLCJhcGlFcnJvckhhbmRsZXIiLCJsb2NhbHMiLCJzZW5kIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFDQSxNQUFNQSxlQUFlLENBQUNDLEtBQUQsRUFBUUMsT0FBUixFQUFpQkMsUUFBakIsRUFBMkJDLElBQTNCLEtBQW9DOztBQUV2REMsVUFBUUMsR0FBUixDQUFZTCxLQUFaOztBQUVBLE1BQUlNLFNBQVNDLFNBQWI7O0FBRUEsTUFBSSxPQUFPUCxLQUFQLEtBQWlCLFFBQWpCLElBQTZCQSxNQUFNUSxJQUFOLEtBQWUsWUFBaEQsRUFBOEQ7QUFDNUQsUUFBSVIsTUFBTVMsSUFBTixLQUFlLEtBQW5CLEVBQTBCO0FBQ3hCLFVBQUlDLE1BQU0sRUFBVjtBQUNBLFdBQUssSUFBSUMsR0FBVCxJQUFnQlgsTUFBTVksUUFBdEIsRUFBZ0M7QUFDOUJGLFlBQUlHLElBQUosQ0FBVSxHQUFFRixHQUFJLEtBQUlYLE1BQU1ZLFFBQU4sQ0FBZUQsR0FBZixDQUFvQixrQkFBeEM7QUFDRDs7QUFFREwsZUFBUyxFQUFFUSxRQUFRLEdBQVYsRUFBZUMsU0FBU0wsSUFBSU0sSUFBSixDQUFTLEdBQVQsQ0FBeEIsRUFBVDtBQUNEO0FBQ0Y7O0FBRURiLE9BQUtHLFNBQVNBLE1BQVQsR0FBaUJOLEtBQXRCO0FBQ0QsQ0FsQkQ7O0FBb0JBLE1BQU1pQixrQkFBa0IsQ0FBQ2pCLEtBQUQsRUFBUUMsT0FBUixFQUFpQkMsUUFBakIsRUFBMkJDLElBQTNCLEtBQW9DO0FBQzFERCxXQUFTZ0IsTUFBVCxDQUFnQkgsT0FBaEIsR0FBMEJmLE1BQU1lLE9BQWhDO0FBQ0FiLFdBQVNnQixNQUFULENBQWdCbEIsS0FBaEIsR0FBd0JBLEtBQXhCOztBQUVBQSxRQUFNYyxNQUFOLEdBQWVkLE1BQU1jLE1BQU4sSUFBZ0IsR0FBL0I7QUFDQVosV0FDR1ksTUFESCxDQUNVZCxNQUFNYyxNQUFOLElBQWdCLEdBRDFCLEVBRUdLLElBRkgsQ0FFUW5CLEtBRlI7QUFHRCxDQVJEOztRQVlFRCxZLEdBQUFBLFk7UUFDQWtCLGUsR0FBQUEsZSIsImZpbGUiOiJlcnJvci1oYW5kbGVyLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvc2VydmVyL3V0aWxzIiwic291cmNlc0NvbnRlbnQiOlsiXG5jb25zdCBlcnJvckhhbmRsZXIgPSAoZXJyb3IsIHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSA9PiB7XG4gIFxuICBjb25zb2xlLmxvZyhlcnJvcik7XG5cbiAgbGV0IHJlc3VsdCA9IHVuZGVmaW5lZDtcblxuICBpZiAodHlwZW9mIGVycm9yID09PSAnb2JqZWN0JyAmJiBlcnJvci5uYW1lID09PSAnTW9uZ29FcnJvcicpIHtcbiAgICBpZiAoZXJyb3IuY29kZSA9PT0gMTEwMDApIHtcbiAgICAgIGxldCBtc2cgPSBbXTtcbiAgICAgIGZvciAobGV0IGtleSBpbiBlcnJvci5rZXlWYWx1ZSkge1xuICAgICAgICBtc2cucHVzaChgJHtrZXl9ICcke2Vycm9yLmtleVZhbHVlW2tleV19JyBhbHJlYWR5IGV4aXN0c2ApO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXN1bHQgPSB7IHN0YXR1czogNDA5LCBtZXNzYWdlOiBtc2cuam9pbignLCcpIH07XG4gICAgfVxuICB9XG5cbiAgbmV4dChyZXN1bHQgPyByZXN1bHQ6IGVycm9yKTtcbn07XG5cbmNvbnN0IGFwaUVycm9ySGFuZGxlciA9IChlcnJvciwgcmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpID0+IHtcbiAgcmVzcG9uc2UubG9jYWxzLm1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xuICByZXNwb25zZS5sb2NhbHMuZXJyb3IgPSBlcnJvcjtcbiAgXG4gIGVycm9yLnN0YXR1cyA9IGVycm9yLnN0YXR1cyB8fCA1MDA7XG4gIHJlc3BvbnNlXG4gICAgLnN0YXR1cyhlcnJvci5zdGF0dXMgfHwgNTAwKVxuICAgIC5zZW5kKGVycm9yKTtcbn07XG5cblxuZXhwb3J0IHtcbiAgZXJyb3JIYW5kbGVyLFxuICBhcGlFcnJvckhhbmRsZXJcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "error-handler.js"
      ],
      "names": [
        "errorHandler",
        "error",
        "request",
        "response",
        "next",
        "console",
        "log",
        "result",
        "undefined",
        "name",
        "code",
        "msg",
        "key",
        "keyValue",
        "push",
        "status",
        "message",
        "join",
        "apiErrorHandler",
        "locals",
        "send"
      ],
      "mappings": ";;;;;;AACA,MAAMA,eAAe,CAACC,KAAD,EAAQC,OAAR,EAAiBC,QAAjB,EAA2BC,IAA3B,KAAoC;;AAEvDC,UAAQC,GAAR,CAAYL,KAAZ;;AAEA,MAAIM,SAASC,SAAb;;AAEA,MAAI,OAAOP,KAAP,KAAiB,QAAjB,IAA6BA,MAAMQ,IAAN,KAAe,YAAhD,EAA8D;AAC5D,QAAIR,MAAMS,IAAN,KAAe,KAAnB,EAA0B;AACxB,UAAIC,MAAM,EAAV;AACA,WAAK,IAAIC,GAAT,IAAgBX,MAAMY,QAAtB,EAAgC;AAC9BF,YAAIG,IAAJ,CAAU,GAAEF,GAAI,KAAIX,MAAMY,QAAN,CAAeD,GAAf,CAAoB,kBAAxC;AACD;;AAEDL,eAAS,EAAEQ,QAAQ,GAAV,EAAeC,SAASL,IAAIM,IAAJ,CAAS,GAAT,CAAxB,EAAT;AACD;AACF;;AAEDb,OAAKG,SAASA,MAAT,GAAiBN,KAAtB;AACD,CAlBD;;AAoBA,MAAMiB,kBAAkB,CAACjB,KAAD,EAAQC,OAAR,EAAiBC,QAAjB,EAA2BC,IAA3B,KAAoC;AAC1DD,WAASgB,MAAT,CAAgBH,OAAhB,GAA0Bf,MAAMe,OAAhC;AACAb,WAASgB,MAAT,CAAgBlB,KAAhB,GAAwBA,KAAxB;;AAEAA,QAAMc,MAAN,GAAed,MAAMc,MAAN,IAAgB,GAA/B;AACAZ,WACGY,MADH,CACUd,MAAMc,MAAN,IAAgB,GAD1B,EAEGK,IAFH,CAEQnB,KAFR;AAGD,CARD;;QAYED,Y,GAAAA,Y;QACAkB,e,GAAAA,e",
      "file": "error-handler.js",
      "sourceRoot": "/app/server/utils",
      "sourcesContent": [
        "\nconst errorHandler = (error, request, response, next) => {\n  \n  console.log(error);\n\n  let result = undefined;\n\n  if (typeof error === 'object' && error.name === 'MongoError') {\n    if (error.code === 11000) {\n      let msg = [];\n      for (let key in error.keyValue) {\n        msg.push(`${key} '${error.keyValue[key]}' already exists`);\n      }\n      \n      result = { status: 409, message: msg.join(',') };\n    }\n  }\n\n  next(result ? result: error);\n};\n\nconst apiErrorHandler = (error, request, response, next) => {\n  response.locals.message = error.message;\n  response.locals.error = error;\n  \n  error.status = error.status || 500;\n  response\n    .status(error.status || 500)\n    .send(error);\n};\n\n\nexport {\n  errorHandler,\n  apiErrorHandler\n}\n"
      ]
    },
    "mtime": 1692142767662
  },
  "{\"filename\":\"/app/server/controllers/user/router.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/server/controllers/user\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.3": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "express"
              }
            ]
          },
          {
            "source": ".",
            "imported": [
              "UserController",
              "UsersController"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "UserController",
                "local": "UserController"
              },
              {
                "kind": "named",
                "imported": "UsersController",
                "local": "UsersController"
              }
            ]
          },
          {
            "source": "./../../utils/api-error",
            "imported": [
              "ApiError"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "ApiError",
                "local": "ApiError"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/server/controllers/user/router.js",
      "filenameRelative": "/app/server/controllers/user/router.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "router.js",
      "sourceFileName": "router.js",
      "sourceRoot": "/app/server/controllers/user",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/server/controllers/user",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "router"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _ = require('.');\n\nvar _apiError = require('./../../utils/api-error');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Endpoints /users, /user, /user/:id\n// TODO: manage response\n\nmodule.exports = () => {\n  const router = _express2.default.Router();\n\n  router.get('/', async (request, response, next) => {\n    try {\n      const { page = 1, limit = 10 } = request.query;\n      const users = new _.UsersController({ page: page, limit: limit });\n      const result = await users.find();\n\n      response.json({ result: result, page: page, limit: limit });\n    } catch (err) {\n      next(err);\n    }\n  });\n\n  router.get('/:id', async (request, response, next) => {\n    try {\n      const user = new _.UserController({ username: request.params.id });\n      const result = await user.select();\n\n      response.json(result);\n    } catch (err) {\n      next(err);\n    }\n  });\n\n  router.post('/', async (request, response, next) => {\n    try {\n      const user = new _.UserController({ values: request.body });\n      const result = await user.save();\n\n      response.json(result);\n    } catch (err) {\n      next(err);\n    }\n  });\n\n  router.post('/:id', async (request, response, next) => {\n    try {\n      const user = new _.UserController({ username: request.params.id, values: request.body });\n      const result = await user.update();\n\n      response.json(result);\n    } catch (err) {\n      next(err);\n    }\n  });\n\n  router.post('/sign-in', async (request, response, next) => {\n    console.log('test');\n  });\n\n  router.post('/sign-out', async (request, response, next) => {});\n\n  router.put('/:id', async (request, response, next) => {\n    response.send('put');\n  });\n\n  router.delete('/:id', async (request, response, next) => {\n    response.send('delete');\n  });\n\n  return router;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvdXRlci5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsInJlcXVlc3QiLCJyZXNwb25zZSIsIm5leHQiLCJwYWdlIiwibGltaXQiLCJxdWVyeSIsInVzZXJzIiwiVXNlcnNDb250cm9sbGVyIiwicmVzdWx0IiwiZmluZCIsImpzb24iLCJlcnIiLCJ1c2VyIiwiVXNlckNvbnRyb2xsZXIiLCJ1c2VybmFtZSIsInBhcmFtcyIsImlkIiwic2VsZWN0IiwicG9zdCIsInZhbHVlcyIsImJvZHkiLCJzYXZlIiwidXBkYXRlIiwiY29uc29sZSIsImxvZyIsInB1dCIsInNlbmQiLCJkZWxldGUiXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7QUFFQTs7QUFDQTs7OztBQUVBO0FBQ0E7O0FBRUFBLE9BQU9DLE9BQVAsR0FBaUIsTUFBTTtBQUNyQixRQUFNQyxTQUFTQyxrQkFBUUMsTUFBUixFQUFmOztBQUVBRixTQUFPRyxHQUFQLENBQVcsR0FBWCxFQUFnQixPQUFPQyxPQUFQLEVBQWdCQyxRQUFoQixFQUEwQkMsSUFBMUIsS0FBbUM7QUFDakQsUUFBSTtBQUNGLFlBQU0sRUFBQ0MsT0FBTyxDQUFSLEVBQVdDLFFBQVEsRUFBbkIsS0FBeUJKLFFBQVFLLEtBQXZDO0FBQ0EsWUFBTUMsUUFBUSxJQUFJQyxpQkFBSixDQUFvQixFQUFDSixNQUFNQSxJQUFQLEVBQWFDLE9BQU9BLEtBQXBCLEVBQXBCLENBQWQ7QUFDQSxZQUFNSSxTQUFTLE1BQU1GLE1BQU1HLElBQU4sRUFBckI7O0FBRUFSLGVBQVNTLElBQVQsQ0FBYyxFQUFDRixRQUFRQSxNQUFULEVBQWlCTCxNQUFNQSxJQUF2QixFQUE2QkMsT0FBT0EsS0FBcEMsRUFBZDtBQUVELEtBUEQsQ0FPRSxPQUFPTyxHQUFQLEVBQVk7QUFBRVQsV0FBS1MsR0FBTDtBQUFZO0FBQzdCLEdBVEQ7O0FBWUFmLFNBQU9HLEdBQVAsQ0FBVyxNQUFYLEVBQW1CLE9BQU9DLE9BQVAsRUFBZ0JDLFFBQWhCLEVBQTBCQyxJQUExQixLQUFtQztBQUNwRCxRQUFJO0FBQ0YsWUFBTVUsT0FBTyxJQUFJQyxnQkFBSixDQUFtQixFQUFDQyxVQUFVZCxRQUFRZSxNQUFSLENBQWVDLEVBQTFCLEVBQW5CLENBQWI7QUFDQSxZQUFNUixTQUFTLE1BQU1JLEtBQUtLLE1BQUwsRUFBckI7O0FBRUFoQixlQUFTUyxJQUFULENBQWNGLE1BQWQ7QUFFRCxLQU5ELENBTUUsT0FBT0csR0FBUCxFQUFZO0FBQUVULFdBQUtTLEdBQUw7QUFBWTtBQUM3QixHQVJEOztBQVdBZixTQUFPc0IsSUFBUCxDQUFZLEdBQVosRUFBaUIsT0FBT2xCLE9BQVAsRUFBZ0JDLFFBQWhCLEVBQTBCQyxJQUExQixLQUFtQztBQUNsRCxRQUFJO0FBQ0YsWUFBTVUsT0FBTyxJQUFJQyxnQkFBSixDQUFtQixFQUFDTSxRQUFRbkIsUUFBUW9CLElBQWpCLEVBQW5CLENBQWI7QUFDQSxZQUFNWixTQUFTLE1BQU1JLEtBQUtTLElBQUwsRUFBckI7O0FBRUFwQixlQUFTUyxJQUFULENBQWNGLE1BQWQ7QUFFRCxLQU5ELENBTUUsT0FBT0csR0FBUCxFQUFZO0FBQUVULFdBQUtTLEdBQUw7QUFBWTtBQUM3QixHQVJEOztBQVdBZixTQUFPc0IsSUFBUCxDQUFZLE1BQVosRUFBb0IsT0FBT2xCLE9BQVAsRUFBZ0JDLFFBQWhCLEVBQTBCQyxJQUExQixLQUFtQztBQUNyRCxRQUFJO0FBQ0YsWUFBTVUsT0FBTyxJQUFJQyxnQkFBSixDQUFtQixFQUFDQyxVQUFVZCxRQUFRZSxNQUFSLENBQWVDLEVBQTFCLEVBQThCRyxRQUFRbkIsUUFBUW9CLElBQTlDLEVBQW5CLENBQWI7QUFDQSxZQUFNWixTQUFTLE1BQU1JLEtBQUtVLE1BQUwsRUFBckI7O0FBRUFyQixlQUFTUyxJQUFULENBQWNGLE1BQWQ7QUFFRCxLQU5ELENBTUUsT0FBT0csR0FBUCxFQUFZO0FBQUVULFdBQUtTLEdBQUw7QUFBWTtBQUM3QixHQVJEOztBQVdBZixTQUFPc0IsSUFBUCxDQUFZLFVBQVosRUFBd0IsT0FBT2xCLE9BQVAsRUFBZ0JDLFFBQWhCLEVBQTBCQyxJQUExQixLQUFtQztBQUN6RHFCLFlBQVFDLEdBQVIsQ0FBWSxNQUFaO0FBQ0QsR0FGRDs7QUFLQTVCLFNBQU9zQixJQUFQLENBQVksV0FBWixFQUF5QixPQUFPbEIsT0FBUCxFQUFlQyxRQUFmLEVBQXlCQyxJQUF6QixLQUFrQyxDQUUxRCxDQUZEOztBQUtBTixTQUFPNkIsR0FBUCxDQUFXLE1BQVgsRUFBbUIsT0FBT3pCLE9BQVAsRUFBZ0JDLFFBQWhCLEVBQTBCQyxJQUExQixLQUFtQztBQUNwREQsYUFBU3lCLElBQVQsQ0FBYyxLQUFkO0FBQ0QsR0FGRDs7QUFLQTlCLFNBQU8rQixNQUFQLENBQWMsTUFBZCxFQUFzQixPQUFPM0IsT0FBUCxFQUFnQkMsUUFBaEIsRUFBMEJDLElBQTFCLEtBQW1DO0FBQ3ZERCxhQUFTeUIsSUFBVCxDQUFjLFFBQWQ7QUFDRCxHQUZEOztBQUlBLFNBQU85QixNQUFQO0FBQ0QsQ0FwRUQiLCJmaWxlIjoicm91dGVyLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvc2VydmVyL2NvbnRyb2xsZXJzL3VzZXIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcblxuaW1wb3J0IHsgVXNlckNvbnRyb2xsZXIsIFVzZXJzQ29udHJvbGxlciB9IGZyb20gJy4nO1xuaW1wb3J0IHsgQXBpRXJyb3IgfSBmcm9tICcuLy4uLy4uL3V0aWxzL2FwaS1lcnJvcic7XG5cbi8vIEVuZHBvaW50cyAvdXNlcnMsIC91c2VyLCAvdXNlci86aWRcbi8vIFRPRE86IG1hbmFnZSByZXNwb25zZVxuXG5tb2R1bGUuZXhwb3J0cyA9ICgpID0+IHtcbiAgY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxuICByb3V0ZXIuZ2V0KCcvJywgYXN5bmMgKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHtwYWdlID0gMSwgbGltaXQgPSAxMH0gPSByZXF1ZXN0LnF1ZXJ5O1xuICAgICAgY29uc3QgdXNlcnMgPSBuZXcgVXNlcnNDb250cm9sbGVyKHtwYWdlOiBwYWdlLCBsaW1pdDogbGltaXR9KTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVzZXJzLmZpbmQoKTtcblxuICAgICAgcmVzcG9uc2UuanNvbih7cmVzdWx0OiByZXN1bHQsIHBhZ2U6IHBhZ2UsIGxpbWl0OiBsaW1pdH0pO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyKSB7IG5leHQoZXJyKTsgfVxuICB9KTtcblxuXG4gIHJvdXRlci5nZXQoJy86aWQnLCBhc3luYyAocmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlciA9IG5ldyBVc2VyQ29udHJvbGxlcih7dXNlcm5hbWU6IHJlcXVlc3QucGFyYW1zLmlkfSk7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1c2VyLnNlbGVjdCgpO1xuICAgICAgXG4gICAgICByZXNwb25zZS5qc29uKHJlc3VsdCk7XG4gICAgXG4gICAgfSBjYXRjaCAoZXJyKSB7IG5leHQoZXJyKTsgfVxuICB9KTtcblxuXG4gIHJvdXRlci5wb3N0KCcvJywgYXN5bmMgKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlckNvbnRyb2xsZXIoe3ZhbHVlczogcmVxdWVzdC5ib2R5fSk7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1c2VyLnNhdmUoKTtcblxuICAgICAgcmVzcG9uc2UuanNvbihyZXN1bHQpO1xuICAgIFxuICAgIH0gY2F0Y2ggKGVycikgeyBuZXh0KGVycik7IH0gIFxuICB9KTtcblxuXG4gIHJvdXRlci5wb3N0KCcvOmlkJywgYXN5bmMgKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlckNvbnRyb2xsZXIoe3VzZXJuYW1lOiByZXF1ZXN0LnBhcmFtcy5pZCwgdmFsdWVzOiByZXF1ZXN0LmJvZHl9KTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVzZXIudXBkYXRlKCk7XG5cbiAgICAgIHJlc3BvbnNlLmpzb24ocmVzdWx0KTtcblxuICAgIH0gY2F0Y2ggKGVycikgeyBuZXh0KGVycik7IH1cbiAgfSk7XG5cblxuICByb3V0ZXIucG9zdCgnL3NpZ24taW4nLCBhc3luYyAocmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpID0+IHtcbiAgICBjb25zb2xlLmxvZygndGVzdCcpO1xuICB9KTtcblxuICBcbiAgcm91dGVyLnBvc3QoJy9zaWduLW91dCcsIGFzeW5jIChyZXF1ZXN0LHJlc3BvbnNlLCBuZXh0KSA9PiB7XG5cbiAgfSk7XG5cblxuICByb3V0ZXIucHV0KCcvOmlkJywgYXN5bmMgKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSA9PiB7XG4gICAgcmVzcG9uc2Uuc2VuZCgncHV0Jyk7XG4gIH0pO1xuXG5cbiAgcm91dGVyLmRlbGV0ZSgnLzppZCcsIGFzeW5jIChyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCkgPT4ge1xuICAgIHJlc3BvbnNlLnNlbmQoJ2RlbGV0ZScpO1xuICB9KTtcblxuICByZXR1cm4gcm91dGVyO1xufTsiXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "router.js"
      ],
      "names": [
        "module",
        "exports",
        "router",
        "express",
        "Router",
        "get",
        "request",
        "response",
        "next",
        "page",
        "limit",
        "query",
        "users",
        "UsersController",
        "result",
        "find",
        "json",
        "err",
        "user",
        "UserController",
        "username",
        "params",
        "id",
        "select",
        "post",
        "values",
        "body",
        "save",
        "update",
        "console",
        "log",
        "put",
        "send",
        "delete"
      ],
      "mappings": ";;AAAA;;;;AAEA;;AACA;;;;AAEA;AACA;;AAEAA,OAAOC,OAAP,GAAiB,MAAM;AACrB,QAAMC,SAASC,kBAAQC,MAAR,EAAf;;AAEAF,SAAOG,GAAP,CAAW,GAAX,EAAgB,OAAOC,OAAP,EAAgBC,QAAhB,EAA0BC,IAA1B,KAAmC;AACjD,QAAI;AACF,YAAM,EAACC,OAAO,CAAR,EAAWC,QAAQ,EAAnB,KAAyBJ,QAAQK,KAAvC;AACA,YAAMC,QAAQ,IAAIC,iBAAJ,CAAoB,EAACJ,MAAMA,IAAP,EAAaC,OAAOA,KAApB,EAApB,CAAd;AACA,YAAMI,SAAS,MAAMF,MAAMG,IAAN,EAArB;;AAEAR,eAASS,IAAT,CAAc,EAACF,QAAQA,MAAT,EAAiBL,MAAMA,IAAvB,EAA6BC,OAAOA,KAApC,EAAd;AAED,KAPD,CAOE,OAAOO,GAAP,EAAY;AAAET,WAAKS,GAAL;AAAY;AAC7B,GATD;;AAYAf,SAAOG,GAAP,CAAW,MAAX,EAAmB,OAAOC,OAAP,EAAgBC,QAAhB,EAA0BC,IAA1B,KAAmC;AACpD,QAAI;AACF,YAAMU,OAAO,IAAIC,gBAAJ,CAAmB,EAACC,UAAUd,QAAQe,MAAR,CAAeC,EAA1B,EAAnB,CAAb;AACA,YAAMR,SAAS,MAAMI,KAAKK,MAAL,EAArB;;AAEAhB,eAASS,IAAT,CAAcF,MAAd;AAED,KAND,CAME,OAAOG,GAAP,EAAY;AAAET,WAAKS,GAAL;AAAY;AAC7B,GARD;;AAWAf,SAAOsB,IAAP,CAAY,GAAZ,EAAiB,OAAOlB,OAAP,EAAgBC,QAAhB,EAA0BC,IAA1B,KAAmC;AAClD,QAAI;AACF,YAAMU,OAAO,IAAIC,gBAAJ,CAAmB,EAACM,QAAQnB,QAAQoB,IAAjB,EAAnB,CAAb;AACA,YAAMZ,SAAS,MAAMI,KAAKS,IAAL,EAArB;;AAEApB,eAASS,IAAT,CAAcF,MAAd;AAED,KAND,CAME,OAAOG,GAAP,EAAY;AAAET,WAAKS,GAAL;AAAY;AAC7B,GARD;;AAWAf,SAAOsB,IAAP,CAAY,MAAZ,EAAoB,OAAOlB,OAAP,EAAgBC,QAAhB,EAA0BC,IAA1B,KAAmC;AACrD,QAAI;AACF,YAAMU,OAAO,IAAIC,gBAAJ,CAAmB,EAACC,UAAUd,QAAQe,MAAR,CAAeC,EAA1B,EAA8BG,QAAQnB,QAAQoB,IAA9C,EAAnB,CAAb;AACA,YAAMZ,SAAS,MAAMI,KAAKU,MAAL,EAArB;;AAEArB,eAASS,IAAT,CAAcF,MAAd;AAED,KAND,CAME,OAAOG,GAAP,EAAY;AAAET,WAAKS,GAAL;AAAY;AAC7B,GARD;;AAWAf,SAAOsB,IAAP,CAAY,UAAZ,EAAwB,OAAOlB,OAAP,EAAgBC,QAAhB,EAA0BC,IAA1B,KAAmC;AACzDqB,YAAQC,GAAR,CAAY,MAAZ;AACD,GAFD;;AAKA5B,SAAOsB,IAAP,CAAY,WAAZ,EAAyB,OAAOlB,OAAP,EAAeC,QAAf,EAAyBC,IAAzB,KAAkC,CAE1D,CAFD;;AAKAN,SAAO6B,GAAP,CAAW,MAAX,EAAmB,OAAOzB,OAAP,EAAgBC,QAAhB,EAA0BC,IAA1B,KAAmC;AACpDD,aAASyB,IAAT,CAAc,KAAd;AACD,GAFD;;AAKA9B,SAAO+B,MAAP,CAAc,MAAd,EAAsB,OAAO3B,OAAP,EAAgBC,QAAhB,EAA0BC,IAA1B,KAAmC;AACvDD,aAASyB,IAAT,CAAc,QAAd;AACD,GAFD;;AAIA,SAAO9B,MAAP;AACD,CApED",
      "file": "router.js",
      "sourceRoot": "/app/server/controllers/user",
      "sourcesContent": [
        "import express from 'express';\n\nimport { UserController, UsersController } from '.';\nimport { ApiError } from './../../utils/api-error';\n\n// Endpoints /users, /user, /user/:id\n// TODO: manage response\n\nmodule.exports = () => {\n  const router = express.Router();\n\n  router.get('/', async (request, response, next) => {\n    try {\n      const {page = 1, limit = 10} = request.query;\n      const users = new UsersController({page: page, limit: limit});\n      const result = await users.find();\n\n      response.json({result: result, page: page, limit: limit});\n      \n    } catch (err) { next(err); }\n  });\n\n\n  router.get('/:id', async (request, response, next) => {\n    try {\n      const user = new UserController({username: request.params.id});\n      const result = await user.select();\n      \n      response.json(result);\n    \n    } catch (err) { next(err); }\n  });\n\n\n  router.post('/', async (request, response, next) => {\n    try {\n      const user = new UserController({values: request.body});\n      const result = await user.save();\n\n      response.json(result);\n    \n    } catch (err) { next(err); }  \n  });\n\n\n  router.post('/:id', async (request, response, next) => {\n    try {\n      const user = new UserController({username: request.params.id, values: request.body});\n      const result = await user.update();\n\n      response.json(result);\n\n    } catch (err) { next(err); }\n  });\n\n\n  router.post('/sign-in', async (request, response, next) => {\n    console.log('test');\n  });\n\n  \n  router.post('/sign-out', async (request,response, next) => {\n\n  });\n\n\n  router.put('/:id', async (request, response, next) => {\n    response.send('put');\n  });\n\n\n  router.delete('/:id', async (request, response, next) => {\n    response.send('delete');\n  });\n\n  return router;\n};"
      ]
    },
    "mtime": 1692229109239
  },
  "{\"filename\":\"/app/server/utils/api-error-handler.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/server/utils\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.3": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/server/utils/api-error-handler.js",
      "filenameRelative": "/app/server/utils/api-error-handler.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "api-error-handler.js",
      "sourceFileName": "api-error-handler.js",
      "sourceRoot": "/app/server/utils",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/server/utils",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "api-error-handler"
    },
    "ignored": false,
    "code": "\"use strict\";\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcGktZXJyb3ItaGFuZGxlci5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL3NlcnZlci91dGlscyIsInNvdXJjZXNDb250ZW50IjpbXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [],
      "names": [],
      "mappings": "",
      "file": "api-error-handler.js",
      "sourceRoot": "/app/server/utils",
      "sourcesContent": []
    },
    "mtime": 1691829101617
  },
  "{\"filename\":\"/app/server/middleware/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/server/middleware\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.3": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "morgan",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "morgan"
              }
            ]
          },
          {
            "source": "helmet",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "helmet"
              }
            ]
          },
          {
            "source": "cors",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "cors"
              }
            ]
          },
          {
            "source": "jsonwebtoken",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "jwt"
              }
            ]
          },
          {
            "source": "./../config",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "config"
              }
            ]
          },
          {
            "source": "./../utils/api-error",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "ApiError"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "middleware",
            "app"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "middleware",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "app",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/server/middleware/index.js",
      "filenameRelative": "/app/server/middleware/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/app/server/middleware",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/server/middleware",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = middleware;\n\nvar _morgan = require('morgan');\n\nvar _morgan2 = _interopRequireDefault(_morgan);\n\nvar _helmet = require('helmet');\n\nvar _helmet2 = _interopRequireDefault(_helmet);\n\nvar _cors = require('cors');\n\nvar _cors2 = _interopRequireDefault(_cors);\n\nvar _jsonwebtoken = require('jsonwebtoken');\n\nvar _jsonwebtoken2 = _interopRequireDefault(_jsonwebtoken);\n\nvar _config = require('./../config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _apiError = require('./../utils/api-error');\n\nvar _apiError2 = _interopRequireDefault(_apiError);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction middleware(app) {\n  app.use((0, _morgan2.default)('dev'));\n\n  app.use((0, _helmet2.default)({\n    xPoweredBy: true,\n    strictTransportSecurity: {\n      maxAge: 86400,\n      includeSubDomains: false\n    },\n    contentSecurityPolicy: true,\n    xXssProtection: true\n  }));\n\n  app.use((0, _cors2.default)({\n    allowedHeaders: ['Content-Type', 'Authorization'],\n    exposedHeaders: ['Authorization'],\n    origin: '*',\n    methods: ['GET', 'PUT', 'POST', 'DELETE'],\n    preflightContinue: false\n  }));\n\n  /*\n   * Redirect 301 when trailing slash at end\n   */\n  app.use('/', async function (request, response, next) {\n    if (request._parsedUrl.pathname.slice(-1) === '/') {\n      let redirect = request._parsedUrl.pathname.slice(0, -1);\n      if (request._parsedUrl.search) {\n        redirect += request._parsedUrl.search;\n      }\n\n      response.redirect(301, redirect);\n      return;\n    }\n\n    next();\n  });\n\n  /*\n   * Allowed http methods\n   */\n  app.use('/', async function (request, response, next) {\n    try {\n      if (['GET', 'PUT', 'POST', 'DELETE'].indexOf(request.method) < 0) {\n        throw new _apiError2.default({ status: 405 });\n      }\n\n      next();\n    } catch (err) {\n      next(err);\n    }\n  });\n\n  /*\n   * Authorization middleware\n   */\n  app.use(_config2.default.app.authorization, async function (request, response, next) {\n    try {\n      if (_config2.default.app.authorization.indexOf(request.originalUrl) >= 0) {\n        if (typeof request.headers.authorization === 'undefined') {\n          throw new _apiError2.default({ status: 401 });\n        }\n        const token = request.headers.authorization.split(' ')[1];\n        _jsonwebtoken2.default.verify(token, _config2.default.app.jwt_secret);\n      }\n      next();\n    } catch (err) {\n      let stack = err;\n      if (!(err instanceof _apiError2.default)) {\n        stack = new _apiError2.default({ status: 403 });\n        stack.stack = err;\n      }\n      next(stack);\n    }\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIm1pZGRsZXdhcmUiLCJhcHAiLCJ1c2UiLCJ4UG93ZXJlZEJ5Iiwic3RyaWN0VHJhbnNwb3J0U2VjdXJpdHkiLCJtYXhBZ2UiLCJpbmNsdWRlU3ViRG9tYWlucyIsImNvbnRlbnRTZWN1cml0eVBvbGljeSIsInhYc3NQcm90ZWN0aW9uIiwiYWxsb3dlZEhlYWRlcnMiLCJleHBvc2VkSGVhZGVycyIsIm9yaWdpbiIsIm1ldGhvZHMiLCJwcmVmbGlnaHRDb250aW51ZSIsInJlcXVlc3QiLCJyZXNwb25zZSIsIm5leHQiLCJfcGFyc2VkVXJsIiwicGF0aG5hbWUiLCJzbGljZSIsInJlZGlyZWN0Iiwic2VhcmNoIiwiaW5kZXhPZiIsIm1ldGhvZCIsIkFwaUVycm9yIiwic3RhdHVzIiwiZXJyIiwiY29uZmlnIiwiYXV0aG9yaXphdGlvbiIsIm9yaWdpbmFsVXJsIiwiaGVhZGVycyIsInRva2VuIiwic3BsaXQiLCJqd3QiLCJ2ZXJpZnkiLCJqd3Rfc2VjcmV0Iiwic3RhY2siXSwibWFwcGluZ3MiOiI7Ozs7O2tCQVN3QkEsVTs7QUFUeEI7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFFQTs7OztBQUNBOzs7Ozs7QUFHZSxTQUFTQSxVQUFULENBQW9CQyxHQUFwQixFQUF5QjtBQUN0Q0EsTUFBSUMsR0FBSixDQUFRLHNCQUFPLEtBQVAsQ0FBUjs7QUFFQUQsTUFBSUMsR0FBSixDQUFRLHNCQUFPO0FBQ2JDLGdCQUFZLElBREM7QUFFYkMsNkJBQXlCO0FBQ3ZCQyxjQUFRLEtBRGU7QUFFdkJDLHlCQUFtQjtBQUZJLEtBRlo7QUFNYkMsMkJBQXVCLElBTlY7QUFPYkMsb0JBQWdCO0FBUEgsR0FBUCxDQUFSOztBQVVBUCxNQUFJQyxHQUFKLENBQVEsb0JBQUs7QUFDWE8sb0JBQWdCLENBQUMsY0FBRCxFQUFpQixlQUFqQixDQURMO0FBRVhDLG9CQUFnQixDQUFDLGVBQUQsQ0FGTDtBQUdYQyxZQUFRLEdBSEc7QUFJWEMsYUFBUyxDQUFDLEtBQUQsRUFBUSxLQUFSLEVBQWUsTUFBZixFQUF1QixRQUF2QixDQUpFO0FBS1hDLHVCQUFtQjtBQUxSLEdBQUwsQ0FBUjs7QUFRQTs7O0FBR0FaLE1BQUlDLEdBQUosQ0FBUSxHQUFSLEVBQWEsZ0JBQWVZLE9BQWYsRUFBd0JDLFFBQXhCLEVBQWtDQyxJQUFsQyxFQUF3QztBQUNuRCxRQUFJRixRQUFRRyxVQUFSLENBQW1CQyxRQUFuQixDQUE0QkMsS0FBNUIsQ0FBa0MsQ0FBQyxDQUFuQyxNQUEwQyxHQUE5QyxFQUFtRDtBQUNqRCxVQUFJQyxXQUFXTixRQUFRRyxVQUFSLENBQW1CQyxRQUFuQixDQUE0QkMsS0FBNUIsQ0FBa0MsQ0FBbEMsRUFBcUMsQ0FBQyxDQUF0QyxDQUFmO0FBQ0EsVUFBSUwsUUFBUUcsVUFBUixDQUFtQkksTUFBdkIsRUFBK0I7QUFDN0JELG9CQUFZTixRQUFRRyxVQUFSLENBQW1CSSxNQUEvQjtBQUNEOztBQUVETixlQUFTSyxRQUFULENBQWtCLEdBQWxCLEVBQXVCQSxRQUF2QjtBQUNBO0FBQ0Q7O0FBRURKO0FBQ0QsR0FaRDs7QUFjQTs7O0FBR0FmLE1BQUlDLEdBQUosQ0FBUSxHQUFSLEVBQWEsZ0JBQWVZLE9BQWYsRUFBd0JDLFFBQXhCLEVBQWtDQyxJQUFsQyxFQUF3QztBQUNuRCxRQUFJO0FBQ0YsVUFBSSxDQUFDLEtBQUQsRUFBUSxLQUFSLEVBQWUsTUFBZixFQUF1QixRQUF2QixFQUFpQ00sT0FBakMsQ0FBeUNSLFFBQVFTLE1BQWpELElBQTJELENBQS9ELEVBQWtFO0FBQ2hFLGNBQU0sSUFBSUMsa0JBQUosQ0FBYSxFQUFDQyxRQUFRLEdBQVQsRUFBYixDQUFOO0FBQ0Q7O0FBRURUO0FBQ0QsS0FORCxDQU1FLE9BQU9VLEdBQVAsRUFBWTtBQUFFVixXQUFLVSxHQUFMO0FBQVk7QUFDN0IsR0FSRDs7QUFVQTs7O0FBR0F6QixNQUFJQyxHQUFKLENBQVF5QixpQkFBTzFCLEdBQVAsQ0FBVzJCLGFBQW5CLEVBQWtDLGdCQUFlZCxPQUFmLEVBQXdCQyxRQUF4QixFQUFrQ0MsSUFBbEMsRUFBd0M7QUFDeEUsUUFBSTtBQUNGLFVBQUlXLGlCQUFPMUIsR0FBUCxDQUFXMkIsYUFBWCxDQUF5Qk4sT0FBekIsQ0FBaUNSLFFBQVFlLFdBQXpDLEtBQXlELENBQTdELEVBQWdFO0FBQzlELFlBQUksT0FBT2YsUUFBUWdCLE9BQVIsQ0FBZ0JGLGFBQXZCLEtBQXlDLFdBQTdDLEVBQTBEO0FBQ3hELGdCQUFNLElBQUlKLGtCQUFKLENBQWEsRUFBQ0MsUUFBUSxHQUFULEVBQWIsQ0FBTjtBQUNEO0FBQ0QsY0FBTU0sUUFBUWpCLFFBQVFnQixPQUFSLENBQWdCRixhQUFoQixDQUE4QkksS0FBOUIsQ0FBb0MsR0FBcEMsRUFBeUMsQ0FBekMsQ0FBZDtBQUNBQywrQkFBSUMsTUFBSixDQUFXSCxLQUFYLEVBQWtCSixpQkFBTzFCLEdBQVAsQ0FBV2tDLFVBQTdCO0FBQ0Q7QUFDRG5CO0FBQ0QsS0FURCxDQVNFLE9BQU9VLEdBQVAsRUFBWTtBQUNaLFVBQUlVLFFBQVFWLEdBQVo7QUFDQSxVQUFJLEVBQUVBLGVBQWVGLGtCQUFqQixDQUFKLEVBQWdDO0FBQzlCWSxnQkFBUSxJQUFJWixrQkFBSixDQUFhLEVBQUNDLFFBQVEsR0FBVCxFQUFiLENBQVI7QUFDQVcsY0FBTUEsS0FBTixHQUFjVixHQUFkO0FBQ0Q7QUFDRFYsV0FBS29CLEtBQUw7QUFDRDtBQUNGLEdBbEJEO0FBbUJEIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlUm9vdCI6Ii9hcHAvc2VydmVyL21pZGRsZXdhcmUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9yZ2FuICAgICAgZnJvbSAnbW9yZ2FuJztcbmltcG9ydCBoZWxtZXQgICAgICBmcm9tICdoZWxtZXQnO1xuaW1wb3J0IGNvcnMgICAgICAgIGZyb20gJ2NvcnMnO1xuaW1wb3J0IGp3dCAgICAgICAgIGZyb20gJ2pzb253ZWJ0b2tlbic7XG5cbmltcG9ydCBjb25maWcgICBmcm9tICcuLy4uL2NvbmZpZyc7XG5pbXBvcnQgQXBpRXJyb3IgZnJvbSAnLi8uLi91dGlscy9hcGktZXJyb3InO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1pZGRsZXdhcmUoYXBwKSB7XG4gIGFwcC51c2UobW9yZ2FuKCdkZXYnKSk7XG5cbiAgYXBwLnVzZShoZWxtZXQoe1xuICAgIHhQb3dlcmVkQnk6IHRydWUsXG4gICAgc3RyaWN0VHJhbnNwb3J0U2VjdXJpdHk6IHtcbiAgICAgIG1heEFnZTogODY0MDAsXG4gICAgICBpbmNsdWRlU3ViRG9tYWluczogZmFsc2UsXG4gICAgfSxcbiAgICBjb250ZW50U2VjdXJpdHlQb2xpY3k6IHRydWUsXG4gICAgeFhzc1Byb3RlY3Rpb246IHRydWUsXG4gIH0pKTtcblxuICBhcHAudXNlKGNvcnMoe1xuICAgIGFsbG93ZWRIZWFkZXJzOiBbJ0NvbnRlbnQtVHlwZScsICdBdXRob3JpemF0aW9uJ10sXG4gICAgZXhwb3NlZEhlYWRlcnM6IFsnQXV0aG9yaXphdGlvbiddLFxuICAgIG9yaWdpbjogJyonLFxuICAgIG1ldGhvZHM6IFsnR0VUJywgJ1BVVCcsICdQT1NUJywgJ0RFTEVURSddLFxuICAgIHByZWZsaWdodENvbnRpbnVlOiBmYWxzZSxcbiAgfSkpO1xuXG4gIC8qXG4gICAqIFJlZGlyZWN0IDMwMSB3aGVuIHRyYWlsaW5nIHNsYXNoIGF0IGVuZFxuICAgKi9cbiAgYXBwLnVzZSgnLycsIGFzeW5jIGZ1bmN0aW9uKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSB7XG4gICAgaWYgKHJlcXVlc3QuX3BhcnNlZFVybC5wYXRobmFtZS5zbGljZSgtMSkgPT09ICcvJykge1xuICAgICAgbGV0IHJlZGlyZWN0ID0gcmVxdWVzdC5fcGFyc2VkVXJsLnBhdGhuYW1lLnNsaWNlKDAsIC0xKTtcbiAgICAgIGlmIChyZXF1ZXN0Ll9wYXJzZWRVcmwuc2VhcmNoKSB7XG4gICAgICAgIHJlZGlyZWN0ICs9IHJlcXVlc3QuX3BhcnNlZFVybC5zZWFyY2g7XG4gICAgICB9XG5cbiAgICAgIHJlc3BvbnNlLnJlZGlyZWN0KDMwMSwgcmVkaXJlY3QpO1xuICAgICAgcmV0dXJuIDtcbiAgICB9XG4gICAgXG4gICAgbmV4dCgpO1xuICB9KTtcblxuICAvKlxuICAgKiBBbGxvd2VkIGh0dHAgbWV0aG9kc1xuICAgKi9cbiAgYXBwLnVzZSgnLycsIGFzeW5jIGZ1bmN0aW9uKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChbJ0dFVCcsICdQVVQnLCAnUE9TVCcsICdERUxFVEUnXS5pbmRleE9mKHJlcXVlc3QubWV0aG9kKSA8IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKHtzdGF0dXM6IDQwNX0pO1xuICAgICAgfVxuICBcbiAgICAgIG5leHQoKTtcbiAgICB9IGNhdGNoIChlcnIpIHsgbmV4dChlcnIpOyB9XG4gIH0pO1xuXG4gIC8qXG4gICAqIEF1dGhvcml6YXRpb24gbWlkZGxld2FyZVxuICAgKi9cbiAgYXBwLnVzZShjb25maWcuYXBwLmF1dGhvcml6YXRpb24sIGFzeW5jIGZ1bmN0aW9uKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChjb25maWcuYXBwLmF1dGhvcml6YXRpb24uaW5kZXhPZihyZXF1ZXN0Lm9yaWdpbmFsVXJsKSA+PSAwKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcmVxdWVzdC5oZWFkZXJzLmF1dGhvcml6YXRpb24gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKHtzdGF0dXM6IDQwMX0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxdWVzdC5oZWFkZXJzLmF1dGhvcml6YXRpb24uc3BsaXQoJyAnKVsxXTtcbiAgICAgICAgand0LnZlcmlmeSh0b2tlbiwgY29uZmlnLmFwcC5qd3Rfc2VjcmV0KTtcbiAgICAgIH1cbiAgICAgIG5leHQoKTtcbiAgICB9IGNhdGNoIChlcnIpIHsgXG4gICAgICBsZXQgc3RhY2sgPSBlcnI7XG4gICAgICBpZiAoIShlcnIgaW5zdGFuY2VvZiBBcGlFcnJvcikpIHtcbiAgICAgICAgc3RhY2sgPSBuZXcgQXBpRXJyb3Ioe3N0YXR1czogNDAzfSk7XG4gICAgICAgIHN0YWNrLnN0YWNrID0gZXJyO1xuICAgICAgfVxuICAgICAgbmV4dChzdGFjayk7IFxuICAgIH1cbiAgfSk7XG59Il19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "middleware",
        "app",
        "use",
        "xPoweredBy",
        "strictTransportSecurity",
        "maxAge",
        "includeSubDomains",
        "contentSecurityPolicy",
        "xXssProtection",
        "allowedHeaders",
        "exposedHeaders",
        "origin",
        "methods",
        "preflightContinue",
        "request",
        "response",
        "next",
        "_parsedUrl",
        "pathname",
        "slice",
        "redirect",
        "search",
        "indexOf",
        "method",
        "ApiError",
        "status",
        "err",
        "config",
        "authorization",
        "originalUrl",
        "headers",
        "token",
        "split",
        "jwt",
        "verify",
        "jwt_secret",
        "stack"
      ],
      "mappings": ";;;;;kBASwBA,U;;AATxB;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;;;AAGe,SAASA,UAAT,CAAoBC,GAApB,EAAyB;AACtCA,MAAIC,GAAJ,CAAQ,sBAAO,KAAP,CAAR;;AAEAD,MAAIC,GAAJ,CAAQ,sBAAO;AACbC,gBAAY,IADC;AAEbC,6BAAyB;AACvBC,cAAQ,KADe;AAEvBC,yBAAmB;AAFI,KAFZ;AAMbC,2BAAuB,IANV;AAObC,oBAAgB;AAPH,GAAP,CAAR;;AAUAP,MAAIC,GAAJ,CAAQ,oBAAK;AACXO,oBAAgB,CAAC,cAAD,EAAiB,eAAjB,CADL;AAEXC,oBAAgB,CAAC,eAAD,CAFL;AAGXC,YAAQ,GAHG;AAIXC,aAAS,CAAC,KAAD,EAAQ,KAAR,EAAe,MAAf,EAAuB,QAAvB,CAJE;AAKXC,uBAAmB;AALR,GAAL,CAAR;;AAQA;;;AAGAZ,MAAIC,GAAJ,CAAQ,GAAR,EAAa,gBAAeY,OAAf,EAAwBC,QAAxB,EAAkCC,IAAlC,EAAwC;AACnD,QAAIF,QAAQG,UAAR,CAAmBC,QAAnB,CAA4BC,KAA5B,CAAkC,CAAC,CAAnC,MAA0C,GAA9C,EAAmD;AACjD,UAAIC,WAAWN,QAAQG,UAAR,CAAmBC,QAAnB,CAA4BC,KAA5B,CAAkC,CAAlC,EAAqC,CAAC,CAAtC,CAAf;AACA,UAAIL,QAAQG,UAAR,CAAmBI,MAAvB,EAA+B;AAC7BD,oBAAYN,QAAQG,UAAR,CAAmBI,MAA/B;AACD;;AAEDN,eAASK,QAAT,CAAkB,GAAlB,EAAuBA,QAAvB;AACA;AACD;;AAEDJ;AACD,GAZD;;AAcA;;;AAGAf,MAAIC,GAAJ,CAAQ,GAAR,EAAa,gBAAeY,OAAf,EAAwBC,QAAxB,EAAkCC,IAAlC,EAAwC;AACnD,QAAI;AACF,UAAI,CAAC,KAAD,EAAQ,KAAR,EAAe,MAAf,EAAuB,QAAvB,EAAiCM,OAAjC,CAAyCR,QAAQS,MAAjD,IAA2D,CAA/D,EAAkE;AAChE,cAAM,IAAIC,kBAAJ,CAAa,EAACC,QAAQ,GAAT,EAAb,CAAN;AACD;;AAEDT;AACD,KAND,CAME,OAAOU,GAAP,EAAY;AAAEV,WAAKU,GAAL;AAAY;AAC7B,GARD;;AAUA;;;AAGAzB,MAAIC,GAAJ,CAAQyB,iBAAO1B,GAAP,CAAW2B,aAAnB,EAAkC,gBAAed,OAAf,EAAwBC,QAAxB,EAAkCC,IAAlC,EAAwC;AACxE,QAAI;AACF,UAAIW,iBAAO1B,GAAP,CAAW2B,aAAX,CAAyBN,OAAzB,CAAiCR,QAAQe,WAAzC,KAAyD,CAA7D,EAAgE;AAC9D,YAAI,OAAOf,QAAQgB,OAAR,CAAgBF,aAAvB,KAAyC,WAA7C,EAA0D;AACxD,gBAAM,IAAIJ,kBAAJ,CAAa,EAACC,QAAQ,GAAT,EAAb,CAAN;AACD;AACD,cAAMM,QAAQjB,QAAQgB,OAAR,CAAgBF,aAAhB,CAA8BI,KAA9B,CAAoC,GAApC,EAAyC,CAAzC,CAAd;AACAC,+BAAIC,MAAJ,CAAWH,KAAX,EAAkBJ,iBAAO1B,GAAP,CAAWkC,UAA7B;AACD;AACDnB;AACD,KATD,CASE,OAAOU,GAAP,EAAY;AACZ,UAAIU,QAAQV,GAAZ;AACA,UAAI,EAAEA,eAAeF,kBAAjB,CAAJ,EAAgC;AAC9BY,gBAAQ,IAAIZ,kBAAJ,CAAa,EAACC,QAAQ,GAAT,EAAb,CAAR;AACAW,cAAMA,KAAN,GAAcV,GAAd;AACD;AACDV,WAAKoB,KAAL;AACD;AACF,GAlBD;AAmBD",
      "file": "index.js",
      "sourceRoot": "/app/server/middleware",
      "sourcesContent": [
        "import morgan      from 'morgan';\nimport helmet      from 'helmet';\nimport cors        from 'cors';\nimport jwt         from 'jsonwebtoken';\n\nimport config   from './../config';\nimport ApiError from './../utils/api-error';\n\n\nexport default function middleware(app) {\n  app.use(morgan('dev'));\n\n  app.use(helmet({\n    xPoweredBy: true,\n    strictTransportSecurity: {\n      maxAge: 86400,\n      includeSubDomains: false,\n    },\n    contentSecurityPolicy: true,\n    xXssProtection: true,\n  }));\n\n  app.use(cors({\n    allowedHeaders: ['Content-Type', 'Authorization'],\n    exposedHeaders: ['Authorization'],\n    origin: '*',\n    methods: ['GET', 'PUT', 'POST', 'DELETE'],\n    preflightContinue: false,\n  }));\n\n  /*\n   * Redirect 301 when trailing slash at end\n   */\n  app.use('/', async function(request, response, next) {\n    if (request._parsedUrl.pathname.slice(-1) === '/') {\n      let redirect = request._parsedUrl.pathname.slice(0, -1);\n      if (request._parsedUrl.search) {\n        redirect += request._parsedUrl.search;\n      }\n\n      response.redirect(301, redirect);\n      return ;\n    }\n    \n    next();\n  });\n\n  /*\n   * Allowed http methods\n   */\n  app.use('/', async function(request, response, next) {\n    try {\n      if (['GET', 'PUT', 'POST', 'DELETE'].indexOf(request.method) < 0) {\n        throw new ApiError({status: 405});\n      }\n  \n      next();\n    } catch (err) { next(err); }\n  });\n\n  /*\n   * Authorization middleware\n   */\n  app.use(config.app.authorization, async function(request, response, next) {\n    try {\n      if (config.app.authorization.indexOf(request.originalUrl) >= 0) {\n        if (typeof request.headers.authorization === 'undefined') {\n          throw new ApiError({status: 401});\n        }\n        const token = request.headers.authorization.split(' ')[1];\n        jwt.verify(token, config.app.jwt_secret);\n      }\n      next();\n    } catch (err) { \n      let stack = err;\n      if (!(err instanceof ApiError)) {\n        stack = new ApiError({status: 403});\n        stack.stack = err;\n      }\n      next(stack); \n    }\n  });\n}"
      ]
    },
    "mtime": 1692229119607
  },
  "{\"filename\":\"/app/server/utils/api-error.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],{\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/server/utils\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.3": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "http-errors",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "createError"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "ApiError"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "ApiError",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/server/utils/api-error.js",
      "filenameRelative": "/app/server/utils/api-error.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          {
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "api-error.js",
      "sourceFileName": "api-error.js",
      "sourceRoot": "/app/server/utils",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/server/utils",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "api-error"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _httpErrors = require('http-errors');\n\nvar _httpErrors2 = _interopRequireDefault(_httpErrors);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass ApiError {\n  constructor({ status = 0 }) {\n    const result = (0, _httpErrors2.default)(status ? status : 404);\n    this.status = result.status;\n    this.message = result.message;\n    this.stack = result;\n  }\n\n}exports.default = ApiError;\n;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwaS1lcnJvci5qcyJdLCJuYW1lcyI6WyJBcGlFcnJvciIsImNvbnN0cnVjdG9yIiwic3RhdHVzIiwicmVzdWx0IiwibWVzc2FnZSIsInN0YWNrIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7Ozs7O0FBR2UsTUFBTUEsUUFBTixDQUFlO0FBQzVCQyxjQUFZLEVBQUNDLFNBQVMsQ0FBVixFQUFaLEVBQTBCO0FBQ3hCLFVBQU1DLFNBQVMsMEJBQVlELFNBQVNBLE1BQVQsR0FBaUIsR0FBN0IsQ0FBZjtBQUNBLFNBQUtBLE1BQUwsR0FBZUMsT0FBT0QsTUFBdEI7QUFDQSxTQUFLRSxPQUFMLEdBQWVELE9BQU9DLE9BQXRCO0FBQ0EsU0FBS0MsS0FBTCxHQUFlRixNQUFmO0FBQ0Q7O0FBTjJCLEMsa0JBQVRILFE7QUFRcEIiLCJmaWxlIjoiYXBpLWVycm9yLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvc2VydmVyL3V0aWxzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyZWF0ZUVycm9yIGZyb20gJ2h0dHAtZXJyb3JzJztcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcGlFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHtzdGF0dXMgPSAwfSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZUVycm9yKHN0YXR1cyA/IHN0YXR1czogNDA0KTsgICAgXG4gICAgdGhpcy5zdGF0dXMgID0gcmVzdWx0LnN0YXR1cztcbiAgICB0aGlzLm1lc3NhZ2UgPSByZXN1bHQubWVzc2FnZTtcbiAgICB0aGlzLnN0YWNrICAgPSByZXN1bHQ7XG4gIH1cblxufTsiXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "api-error.js"
      ],
      "names": [
        "ApiError",
        "constructor",
        "status",
        "result",
        "message",
        "stack"
      ],
      "mappings": ";;;;;;AAAA;;;;;;AAGe,MAAMA,QAAN,CAAe;AAC5BC,cAAY,EAACC,SAAS,CAAV,EAAZ,EAA0B;AACxB,UAAMC,SAAS,0BAAYD,SAASA,MAAT,GAAiB,GAA7B,CAAf;AACA,SAAKA,MAAL,GAAeC,OAAOD,MAAtB;AACA,SAAKE,OAAL,GAAeD,OAAOC,OAAtB;AACA,SAAKC,KAAL,GAAeF,MAAf;AACD;;AAN2B,C,kBAATH,Q;AAQpB",
      "file": "api-error.js",
      "sourceRoot": "/app/server/utils",
      "sourcesContent": [
        "import createError from 'http-errors';\n\n\nexport default class ApiError {\n  constructor({status = 0}) {\n    const result = createError(status ? status: 404);    \n    this.status  = result.status;\n    this.message = result.message;\n    this.stack   = result;\n  }\n\n};"
      ]
    },
    "mtime": 1692210235640
  }
}